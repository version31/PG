!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("3",tinymce.util.Tools.resolve),l("1",["3"],function(b){return b("tinymce.PluginManager")}),l("2",["3"],function(b){return b("tinymce.util.Tools")}),l("0",["1","2"],function(d,c){return d.add("insertdatetime",function(y){function x(a,f){function e(h,g){if(h=""+h,h.length<g){for(var z=0;z<g-h.length;z++){h="0"+h}}return h}return f=f||new Date,a=a.replace("%D","%m/%d/%Y"),a=a.replace("%r","%I:%M:%S %p"),a=a.replace("%Y",""+f.getFullYear()),a=a.replace("%y",""+f.getYear()),a=a.replace("%m",e(f.getMonth()+1,2)),a=a.replace("%d",e(f.getDate(),2)),a=a.replace("%H",""+e(f.getHours(),2)),a=a.replace("%M",""+e(f.getMinutes(),2)),a=a.replace("%S",""+e(f.getSeconds(),2)),a=a.replace("%I",""+((f.getHours()+11)%12+1)),a=a.replace("%p",""+(f.getHours()<12?"AM":"PM")),a=a.replace("%B",""+y.translate(q[f.getMonth()])),a=a.replace("%b",""+y.translate(r[f.getMonth()])),a=a.replace("%A",""+y.translate(s[f.getDay()])),a=a.replace("%a",""+y.translate(t[f.getDay()])),a=a.replace("%%","%")}function w(a){var z=x(a);if(y.settings.insertdatetime_element){var h;h=x(/%[HMSIp]/.test(a)?"%Y-%m-%dT%H:%M":"%Y-%m-%d"),z='<time datetime="'+h+'">'+z+"</time>";var g=y.dom.getParent(y.selection.getStart(),"time");if(g){return void y.dom.setOuterHTML(g,z)}}y.insertContent(z)}var v,u,t="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),s="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),q="January February March April May June July August September October November December".split(" "),b=[];y.addCommand("mceInsertDate",function(){w(y.getParam("insertdatetime_dateformat",y.translate("%Y-%m-%d")))}),y.addCommand("mceInsertTime",function(){w(y.getParam("insertdatetime_timeformat",y.translate("%H:%M:%S")))}),y.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){w(v||u)},menu:b}),c.each(y.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],function(e){u||(u=e),b.push({text:x(e),onclick:function(){v=e,w(e)}})}),y.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:b,context:"insert"})}),function(){}}),o("0")()}();