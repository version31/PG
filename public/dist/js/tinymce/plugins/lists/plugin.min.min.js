!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("9",tinymce.util.Tools.resolve),l("1",["9"],function(b){return b("tinymce.PluginManager")}),l("2",["9"],function(b){return b("tinymce.util.Tools")}),l("3",["9"],function(b){return b("tinymce.util.VK")}),l("a",["9"],function(b){return b("tinymce.dom.DOMUtils")}),l("8",[],function(){var z=function(b){return b&&3===b.nodeType},y=function(b){return b&&/^(OL|UL|DL)$/.test(b.nodeName)},x=function(b){return b&&/^(LI|DT|DD)$/.test(b.nodeName)},w=function(b){return b&&"BR"===b.nodeName},v=function(b){return b.parentNode.firstChild===b},u=function(b){return b.parentNode.lastChild===b},t=function(d,c){return c&&!!d.schema.getTextBlockElements()[c.nodeName]},s=function(d,c){return !!w(c)&&!(!d.isBlock(c.nextSibling)||w(c.previousSibling))},r=function(f,e,h){var g=f.isEmpty(e);return !(h&&f.select("span[data-mce-type=bookmark]",e).length>0)&&g},q=function(d,c){return d.isChildOf(c,d.getRoot())};return{isTextNode:z,isListNode:y,isListItemNode:x,isBr:w,isFirstChild:v,isLastChild:u,isTextBlock:t,isBogusBr:s,isEmpty:r,isChildOfBody:q}}),l("h",["9"],function(b){return b("tinymce.dom.RangeUtils")}),l("j",["h","8"],function(f,e){var h=function(r,q){var b=f.getNode(r,q);if(e.isListItemNode(r)&&e.isTextNode(b)){var a=q>=r.childNodes.length?b.data.length:0;return{container:b,offset:a}}return{container:r,offset:q}},g=function(q){var c=q.cloneRange(),s=h(q.startContainer,q.startOffset);c.setStart(s.container,s.offset);var r=h(q.endContainer,q.endOffset);return c.setEnd(r.container,r.offset),c};return{getNormalizedEndPoint:h,normalizeRange:g}}),l("b",["a","8","j"],function(h,g,t){var s=h.DOM,r=function(e){var d={},f=function(v){var u,b,a;b=e[v?"startContainer":"endContainer"],a=e[v?"startOffset":"endOffset"],1===b.nodeType&&(u=s.create("span",{"data-mce-type":"bookmark"}),b.hasChildNodes()?(a=Math.min(a,b.childNodes.length-1),v?b.insertBefore(u,b.childNodes[a]):s.insertAfter(u,b.childNodes[a])):b.appendChild(u),b=u,a=0),d[v?"startContainer":"endContainer"]=b,d[v?"startOffset":"endOffset"]=a};return f(!0),e.collapsed||f(),d},q=function(d){function c(a){var x,w,v,u=function(y){for(var e=y.parentNode.firstChild,z=0;e;){if(e===y){return z}1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||z++,e=e.nextSibling}return -1};x=v=d[a?"startContainer":"endContainer"],w=d[a?"startOffset":"endOffset"],x&&(1===x.nodeType&&(w=u(x),x=x.parentNode,s.remove(v)),d[a?"startContainer":"endContainer"]=x,d[a?"startOffset":"endOffset"]=w)}c(!0),c();var f=s.createRng();return f.setStart(d.startContainer,d.startOffset),d.endContainer&&f.setEnd(d.endContainer,d.endOffset),t.normalizeRange(f)};return{createBookmark:r,resolveBookmark:q}}),l("c",["2","8"],function(e,d){var f=function(a){return e.grep(a.selection.getSelectedBlocks(),function(b){return d.isListItemNode(b)})};return{getSelectedListItems:f}}),l("4",["a","b","8","c"],function(r,q,x,w){var v=r.DOM,u=function(e,c){var f;if(x.isListNode(e)){for(;f=e.firstChild;){c.appendChild(f)}v.remove(e)}},t=function(e){var c,h,f;return"DT"===e.nodeName?(v.rename(e,"DD"),!0):(c=e.previousSibling,c&&x.isListNode(c)?(c.appendChild(e),!0):c&&"LI"===c.nodeName&&x.isListNode(c.lastChild)?(c.lastChild.appendChild(e),u(e.lastChild,c.lastChild),!0):(c=e.nextSibling,c&&x.isListNode(c)?(c.insertBefore(e,c.firstChild),!0):(c=e.previousSibling,!(!c||"LI"!==c.nodeName)&&(h=v.create(e.parentNode.nodeName),f=v.getStyle(e.parentNode,"listStyleType"),f&&v.setStyle(h,"listStyleType",f),c.appendChild(h),h.appendChild(e),u(e.lastChild,h),!0))))},s=function(b){var h=w.getSelectedListItems(b);if(h.length){for(var g=q.createBookmark(b.selection.getRng(!0)),d=0;d<h.length&&(t(h[d])||0!==d);d++){}return b.selection.setRng(q.resolveBookmark(g)),b.nodeChanged(),!0}};return{indentSelection:s}}),l("d",["a","2","8"],function(h,g,t){var s=h.DOM,r=function(d,c){var v,u=c.parentNode;"LI"===u.nodeName&&u.firstChild===c&&(v=u.previousSibling,v&&"LI"===v.nodeName?(v.appendChild(c),t.isEmpty(d,u)&&s.remove(u)):s.setStyle(u,"listStyleType","none")),t.isListNode(u)&&(v=u.previousSibling,v&&"LI"===v.nodeName&&v.appendChild(c))},q=function(b,d){g.each(g.grep(b.select("ol,ul",d)),function(a){r(b,a)})};return{normalizeList:r,normalizeLists:q}}),l("k",["9"],function(b){return b("tinymce.Env")}),l("f",["a","k"],function(f,e){var h=f.DOM,g=function(w,v,u){var t,s,r,q=h.createFragment(),c=w.schema.getBlockElements();if(w.settings.forced_root_block&&(u=u||w.settings.forced_root_block),u&&(s=h.create(u),s.tagName===w.settings.forced_root_block&&h.setAttribs(s,w.settings.forced_root_block_attrs),q.appendChild(s)),v){for(;t=v.firstChild;){var b=t.nodeName;r||"SPAN"===b&&"bookmark"===t.getAttribute("data-mce-type")||(r=!0),c[b]?(q.appendChild(t),s=null):u?(s||(s=h.create(u),q.appendChild(s)),s.appendChild(t)):q.appendChild(t)}}return w.settings.forced_root_block?r||e.ie&&!(e.ie>10)||s.appendChild(h.create("br",{"data-mce-bogus":"1"})):q.appendChild(h.create("br")),q};return{createNewTextBlock:g}}),l("e",["a","8","f","2"],function(h,g,t,s){var r=h.DOM,q=function(y,x,w,v){var u,e,d,c,b=function(f){s.each(d,function(a){f.parentNode.insertBefore(a,w.parentNode)}),r.remove(f)};for(d=r.select('span[data-mce-type="bookmark"]',x),v=v||t.createNewTextBlock(y,w),u=r.createRng(),u.setStartAfter(w),u.setEndAfter(x),e=u.extractContents(),c=e.firstChild;c;c=c.firstChild){if("LI"===c.nodeName&&y.dom.isEmpty(c)){r.remove(c);break}}y.dom.isEmpty(e)||r.insertAfter(e,x),r.insertAfter(v,x),g.isEmpty(y.dom,w.parentNode)&&b(w.parentNode),r.remove(w),g.isEmpty(y.dom,x)&&r.remove(x)};return{splitList:q}}),l("5",["a","b","8","d","c","e","f"],function(A,z,y,x,w,v,u){var t=A.DOM,s=function(d,c){y.isEmpty(d,c)&&t.remove(c)},r=function(d,c){var h,g=c.parentNode,f=g.parentNode;return g===d.getBody()||("DD"===c.nodeName?(t.rename(c,"DT"),!0):y.isFirstChild(c)&&y.isLastChild(c)?("LI"===f.nodeName?(t.insertAfter(c,f),s(d.dom,f),t.remove(g)):y.isListNode(f)?t.remove(g,!0):(f.insertBefore(u.createNewTextBlock(d,c),g),t.remove(g)),!0):y.isFirstChild(c)?("LI"===f.nodeName?(t.insertAfter(c,f),c.appendChild(g),s(d.dom,f)):y.isListNode(f)?f.insertBefore(c,g):(f.insertBefore(u.createNewTextBlock(d,c),g),t.remove(c)),!0):y.isLastChild(c)?("LI"===f.nodeName?t.insertAfter(c,f):y.isListNode(f)?t.insertAfter(c,g):(t.insertAfter(u.createNewTextBlock(d,c),g),t.remove(c)),!0):("LI"===f.nodeName?(g=f,h=u.createNewTextBlock(d,c,"LI")):h=y.isListNode(f)?u.createNewTextBlock(d,c,"LI"):u.createNewTextBlock(d,c),v.splitList(d,g,c,h),x.normalizeLists(d.dom,g.parentNode),!0))},q=function(b){var F=w.getSelectedListItems(b);if(F.length){var E,D,C=z.createBookmark(b.selection.getRng(!0)),B=b.getBody();for(E=F.length;E--;){for(var e=F[E].parentNode;e&&e!==B;){for(D=F.length;D--;){if(F[D]===e){F.splice(E,1);break}}e=e.parentNode}}for(E=0;E<F.length&&(r(b,F[E])||0!==E);E++){}return b.selection.setRng(z.resolveBookmark(C)),b.nodeChanged(),!0}};return{outdent:r,outdentSelection:q}}),l("g",["9"],function(b){return b("tinymce.dom.BookmarkManager")}),l("6",["g","2","5","b","8","d","c","e"],function(R,Q,P,O,N,M,L,K){var J=function(f,e,h){var g=h["list-style-type"]?h["list-style-type"]:null;f.setStyle(e,"list-style-type",g)},I=function(b,d){Q.each(d,function(a,e){b.setAttribute(e,a)})},H=function(b,f,e){I(f,e["list-attributes"]),Q.each(b.select("li",f),function(c){I(c,e["list-item-attributes"])})},G=function(e,d,f){J(e,d,f),H(e,d,f)},F=function(h,e,t){var s,r,q=h.getBody();for(s=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],1===s.nodeType&&(s=s.childNodes[Math.min(r,s.childNodes.length-1)]||s);s.parentNode!==q;){if(N.isTextBlock(h,s)){return s}if(/^(TD|TH)$/.test(s.parentNode.nodeName)){return s}s=s.parentNode}return s},E=function(S,v){for(var u,t=[],s=S.getBody(),r=S.dom,q=F(S,v,!0),e=F(S,v,!1),b=[],a=q;a&&(b.push(a),a!==e);a=a.nextSibling){}return Q.each(b,function(c){if(N.isTextBlock(S,c)){return t.push(c),void (u=null)}if(r.isBlock(c)||N.isBr(c)){return N.isBr(c)&&r.remove(c),void (u=null)}var f=c.nextSibling;return R.isBookmarkNode(c)&&(N.isTextBlock(S,f)||!f&&c.parentNode===s)?void (u=null):(u||(u=r.create("p"),c.parentNode.insertBefore(u,c),t.push(u)),void u.appendChild(c))}),t},D=function(b,t,s){var r,q=b.selection.getRng(!0),e="LI",d=b.dom;s=s?s:{},"false"!==d.getContentEditable(b.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(e="DT"),r=O.createBookmark(q),Q.each(E(b,q),function(a){var u,f,c=function(h){var g=d.getStyle(h,"list-style-type"),v=s?s["list-style-type"]:"";return v=null===v?"":v,g===v};f=a.previousSibling,f&&N.isListNode(f)&&f.nodeName===t&&c(f)?(u=f,a=d.rename(a,e),f.appendChild(a)):(u=d.create(t),a.parentNode.insertBefore(u,a),u.appendChild(a),a=d.rename(a,e)),G(d,u,s),x(b.dom,u)}),b.selection.setRng(O.resolveBookmark(r)))},C=function(c){var f=O.createBookmark(c.selection.getRng(!0)),e=c.getBody(),d=L.getSelectedListItems(c),b=Q.grep(d,function(a){return c.dom.isEmpty(a)});d=Q.grep(d,function(a){return !c.dom.isEmpty(a)}),Q.each(b,function(a){if(N.isEmpty(c.dom,a)){return void P.outdent(c,a)}}),Q.each(d,function(a){var h,g;if(a.parentNode!==c.getBody()){for(h=a;h&&h!==e;h=h.parentNode){N.isListNode(h)&&(g=h)}K.splitList(c,g,a),M.normalizeLists(c.dom,g.parentNode)}}),c.selection.setRng(O.resolveBookmark(f))},B=function(d,c){return d&&c&&N.isListNode(d)&&d.nodeName===c.nodeName},A=function(g,f,r){var q=g.getStyle(f,"list-style-type",!0),h=g.getStyle(r,"list-style-type",!0);return q===h},z=function(d,c){return d.className===c.className},y=function(e,d,f){return B(d,f)&&A(e,d,f)&&z(d,f)},x=function(f,e){var h,g;if(h=e.nextSibling,y(f,e,h)){for(;g=h.firstChild;){e.appendChild(g)}f.remove(h)}if(h=e.previousSibling,y(f,e,h)){for(;g=h.lastChild;){e.insertBefore(g,e.firstChild)}f.remove(h)}},w=function(g,d,r){var q=g.dom.getParent(g.selection.getStart(),"OL,UL,DL");if(r=r?r:{},q!==g.getBody()){if(q){if(q.nodeName===d){C(g,d)}else{var h=O.createBookmark(g.selection.getRng(!0));G(g.dom,q,r),x(g.dom,g.dom.rename(q,d)),g.selection.setRng(O.resolveBookmark(h))}}else{D(g,d,r)}}};return{toggleList:w,removeList:C,mergeWithAdjacentLists:x}}),l("i",["9"],function(b){return b("tinymce.dom.TreeWalker")}),l("7",["h","i","3","6","b","8","d","j","c"],function(H,G,F,E,D,C,B,A,z){var y=function(K,J,I){var q,f,b=J.startContainer,a=J.startOffset;if(3===b.nodeType&&(I?a<b.data.length:a>0)){return b}for(q=K.schema.getNonEmptyElements(),1===b.nodeType&&(b=H.getNode(b,a)),f=new G(b,K.getBody()),I&&C.isBogusBr(K.dom,b)&&f.next();b=f[I?"next":"prev2"]();){if("LI"===b.nodeName&&!b.hasChildNodes()){return b}if(q[b.nodeName]){return b}if(3===b.nodeType&&b.data.length>0){return b}}},x=function(h,f,K){var J,I,q=f.parentNode;if(C.isChildOfBody(h,f)&&C.isChildOfBody(h,K)){if(C.isListNode(K.lastChild)&&(I=K.lastChild),q===K.lastChild&&C.isBr(q.previousSibling)&&h.remove(q.previousSibling),J=K.lastChild,J&&C.isBr(J)&&f.hasChildNodes()&&h.remove(J),C.isEmpty(h,K,!0)&&h.$(K).empty(),!C.isEmpty(h,f,!0)){for(;J=f.firstChild;){K.appendChild(J)}}I&&K.appendChild(I),h.remove(f),C.isEmpty(h,q)&&q!==h.getRoot()&&h.remove(q)}},w=function(L,K){var J,I,q,h=L.dom,f=L.selection,e=h.getParent(f.getStart(),"LI");if(e){if(J=e.parentNode,J===L.getBody()&&C.isEmpty(h,J)){return !0}if(I=A.normalizeRange(f.getRng(!0)),q=h.getParent(y(L,I,K),"LI"),q&&q!==e){var d=D.createBookmark(I);return K?x(h,q,e):x(h,e,q),L.selection.setRng(D.resolveBookmark(d)),!0}if(!q&&!K&&E.removeList(L,J.nodeName)){return !0}}return !1},v=function(h,d){var K=h.dom,J=K.getParent(h.selection.getStart(),K.isBlock);if(J&&K.isEmpty(J)){var I=A.normalizeRange(h.selection.getRng(!0)),q=K.getParent(y(h,I,d),"LI");if(q){return h.undoManager.transact(function(){K.remove(J),E.mergeWithAdjacentLists(K,q.parentNode),h.selection.select(q,!0),h.selection.collapse(d)}),!0}}return !1},u=function(d,c){return w(d,c)||v(d,c)},t=function(d){var c=d.dom.getParent(d.selection.getStart(),"LI,DT,DD");return !!(c||z.getSelectedListItems(d).length>0)&&(d.undoManager.transact(function(){d.execCommand("Delete"),B.normalizeLists(d.dom,d.getBody())}),!0)},s=function(d,c){return d.selection.isCollapsed()?u(d,c):t(d)},r=function(b){b.on("keydown",function(a){a.keyCode===F.BACKSPACE?s(b,!1)&&a.preventDefault():a.keyCode===F.DELETE&&s(b,!0)&&a.preventDefault()})};return{setup:r,backspaceDelete:s}}),l("0",["1","2","3","4","5","6","7","8"],function(C,B,A,z,y,x,w,v){var u=function(d,c){return function(){var a=d.dom.getParent(d.selection.getStart(),"UL,OL,DL");return a&&a.nodeName===c}},t=function(b){b.on("BeforeExecCommand",function(a){var e,d=a.command.toLowerCase();if("indent"===d?z.indentSelection(b)&&(e=!0):"outdent"===d&&y.outdentSelection(b)&&(e=!0),e){return b.fire("ExecCommand",{command:a.command}),a.preventDefault(),!0}}),b.addCommand("InsertUnorderedList",function(a,d){x.toggleList(b,"UL",d)}),b.addCommand("InsertOrderedList",function(a,d){x.toggleList(b,"OL",d)}),b.addCommand("InsertDefinitionList",function(a,d){x.toggleList(b,"DL",d)})},s=function(b){b.addQueryStateHandler("InsertUnorderedList",u(b,"UL")),b.addQueryStateHandler("InsertOrderedList",u(b,"OL")),b.addQueryStateHandler("InsertDefinitionList",u(b,"DL"))},r=function(b){b.on("keydown",function(a){9!==a.keyCode||A.metaKeyPressed(a)||b.dom.getParent(b.selection.getStart(),"LI,DT,DD")&&(a.preventDefault(),a.shiftKey?y.outdentSelection(b):z.indentSelection(b))})},q=function(b){var f=function(a){return function(){var c=this;b.on("NodeChange",function(d){var g=B.grep(d.parents,v.isListNode);c.active(g.length>0&&g[0].nodeName===a)})}},e=function(g,D){var h=g.settings.plugins?g.settings.plugins:"";return B.inArray(h.split(/[ ,]/),D)!==-1};e(b,"advlist")||(b.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:f("OL")}),b.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:f("UL")})),b.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(a){var d=a.control;b.on("nodechange",function(){for(var c=b.selection.getSelectedBlocks(),F=!1,E=0,D=c.length;!F&&E<D;E++){var h=c[E].nodeName;F="LI"===h&&v.isFirstChild(c[E])||"UL"===h||"OL"===h||"DD"===h}d.disabled(F)})}})};return C.add("lists",function(b){return q(b),w.setup(b),b.on("init",function(){t(b),s(b),b.getParam("lists_indent_on_tab",!0)&&r(b)}),{backspaceDelete:function(a){w.backspaceDelete(b,a)}}}),function(){}}),o("0")()}();