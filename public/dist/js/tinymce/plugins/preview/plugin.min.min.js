!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("4",tinymce.util.Tools.resolve),l("1",["4"],function(b){return b("tinymce.PluginManager")}),l("2",["4"],function(b){return b("tinymce.Env")}),l("3",["4"],function(b){return b("tinymce.util.Tools")}),l("0",["1","2","3"],function(e,d,f){return e.add("preview",function(b){var g=b.settings,c=!d.ie;b.addCommand("mcePreview",function(){b.windowManager.open({title:"Preview",width:parseInt(b.getParam("plugin_preview_width","650"),10),height:parseInt(b.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(c?' sandbox="allow-scripts"':"")+"></iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var a,v="";v+='<base href="'+b.documentBaseURI.getURI()+'">',f.each(b.contentCSS,function(h){v+='<link type="text/css" rel="stylesheet" href="'+b.documentBaseURI.toAbsolute(h)+'">'});var u=g.body_id||"tinymce";u.indexOf("=")!=-1&&(u=b.getParam("body_id","","hash"),u=u[b.id]||u);var t=g.body_class||"";t.indexOf("=")!=-1&&(t=b.getParam("body_class","","hash"),t=t[b.id]||"");var s='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> ',r=b.settings.directionality?' dir="'+b.settings.directionality+'"':"";if(a="<!DOCTYPE html><html><head>"+v+'</head><body id="'+u+'" class="mce-content-body '+t+'"'+r+">"+b.getContent()+s+"</body></html>",c){this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(a)}else{var q=this.getEl("body").firstChild.contentWindow.document;q.open(),q.write(a),q.close()}}})}),b.addButton("preview",{title:"Preview",cmd:"mcePreview"}),b.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}),function(){}}),o("0")()}();