!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("5",tinymce.util.Tools.resolve),l("1",["5"],function(b){return b("tinymce.PluginManager")}),l("2",["5"],function(b){return b("tinymce.dom.DOMUtils")}),l("3",["5"],function(b){return b("tinymce.EditorManager")}),l("4",["5"],function(b){return b("tinymce.util.Tools")}),l("0",["1","2","3","4"],function(f,e,h,g){return f.add("save",function(b){function r(){var a;if(a=e.DOM.getParent(b.id,"form"),!b.getParam("save_enablewhendirty",!0)||b.isDirty()){return h.triggerSave(),b.getParam("save_onsavecallback")?(b.execCallback("save_onsavecallback",b),void b.nodeChanged()):void (a?(b.setDirty(!1),a.onsubmit&&!a.onsubmit()||("function"==typeof a.submit?a.submit():q(b.translate("Error: Form submit field collision."))),b.nodeChanged()):q(b.translate("Error: No form element found.")))}}function q(a){b.notificationManager.open({text:a,type:"error"})}function d(){var a=g.trim(b.startContent);return b.getParam("save_oncancelcallback")?void b.execCallback("save_oncancelcallback",b):(b.setContent(a),b.undoManager.clear(),void b.nodeChanged())}function c(){var a=this;b.on("nodeChange dirty",function(){a.disabled(b.getParam("save_enablewhendirty",!0)&&!b.isDirty())})}b.addCommand("mceSave",r),b.addCommand("mceCancel",d),b.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:c}),b.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:c}),b.addShortcut("Meta+S","","mceSave")}),function(){}}),o("0")()}();