!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("4",tinymce.util.Tools.resolve),l("1",["4"],function(b){return b("tinymce.PluginManager")}),l("2",["4"],function(b){return b("tinymce.util.Tools")}),l("3",[],function(){function d(b){return b&&1==b.nodeType&&"false"===b.contentEditable}function c(H,G,F,E,D){function C(f,e){if(e=e||0,!f[0]){throw"findAndReplaceDOMText cannot handle zero-length matches"}var h=f.index;if(e>0){var g=f[e];if(!g){throw"Invalid capture group"}h+=f[0].indexOf(g),f[0]=g}return[h,h+f[0].length,[f[0]]]}function B(e){var f;if(3===e.nodeType){return e.data}if(u[e.nodeName]&&!v[e.nodeName]){return""}if(f="",d(e)){return"\n"}if((v[e.nodeName]||t[e.nodeName])&&(f+="\n"),e=e.firstChild){do{f+=B(e)}while(e=e.nextSibling)}return f}function A(R,Q,P){var O,N,M,L,K=[],J=0,I=R,r=Q.shift(),q=0;d:for(;;){if((v[I.nodeName]||t[I.nodeName]||d(I))&&J++,3===I.nodeType&&(!N&&I.length+J>=r[1]?(N=I,L=r[1]-J):O&&K.push(I),!O&&I.length+J>r[0]&&(O=I,M=r[0]-J),J+=I.length),O&&N){if(I=P({startNode:O,startNodeIndex:M,endNode:N,endNodeIndex:L,innerNodes:K,match:r[2],matchIndex:q}),J-=N.length-L,O=null,N=null,K=[],r=Q.shift(),q++,!r){break}}else{if(u[I.nodeName]&&!v[I.nodeName]||!I.firstChild){if(I.nextSibling){I=I.nextSibling;continue}}else{if(!d(I)){I=I.firstChild;continue}}}for(;;){if(I.nextSibling){I=I.nextSibling;break}if(I.parentNode===R){break d}I=I.parentNode}}}function z(f){var e;if("function"!=typeof f){var g=f.nodeType?f:w.createElement(f);e=function(q,h){var r=g.cloneNode(!1);return r.setAttribute("data-mce-index",h),q&&r.appendChild(w.createTextNode(q)),r}}else{e=f}return function(W){var V,U,T,S=W.startNode,R=W.endNode,Q=W.matchIndex;if(S===R){var P=S;T=P.parentNode,W.startNodeIndex>0&&(V=w.createTextNode(P.data.substring(0,W.startNodeIndex)),T.insertBefore(V,P));var O=e(W.match[0],Q);return T.insertBefore(O,P),W.endNodeIndex<P.length&&(U=w.createTextNode(P.data.substring(W.endNodeIndex)),T.insertBefore(U,P)),P.parentNode.removeChild(P),O}V=w.createTextNode(S.data.substring(0,W.startNodeIndex)),U=w.createTextNode(R.data.substring(W.endNodeIndex));for(var N=e(S.data.substring(W.startNodeIndex),Q),M=[],L=0,K=W.innerNodes.length;L<K;++L){var J=W.innerNodes[L],I=e(J.data,Q);J.parentNode.replaceChild(I,J),M.push(I)}var b=e(R.data.substring(0,W.endNodeIndex),Q);return T=S.parentNode,T.insertBefore(V,S),T.insertBefore(N,S),T.removeChild(S),T=R.parentNode,T.insertBefore(b,R),T.insertBefore(U,R),T.removeChild(R),b}}var y,x,w,v,u,t,s=[],a=0;if(w=G.ownerDocument,v=D.getBlockElements(),u=D.getWhiteSpaceElements(),t=D.getShortEndedElements(),x=B(G)){if(H.global){for(;y=H.exec(x);){s.push(C(y,E))}}else{y=x.match(H),s.push(C(y,E))}return s.length&&(a=s.length,A(G,s,z(F))),a}}return{findAndReplaceDOMText:c}}),l("0",["1","2","3"],function(f,e,h){function g(y){function x(){function C(){a.statusbar.find("#next").disabled(!t(b+1).length),a.statusbar.find("#prev").disabled(!t(b-1).length)}function B(){y.windowManager.alert("Could not find the specified string.",function(){a.find("#find")[0].focus()})}var A,z={};A=e.trim(y.selection.getContent({format:"text"}));var a=y.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){y.focus(),c.done()},onSubmit:function(D){var d,G,F,E;return D.preventDefault(),G=a.find("#case").checked(),E=a.find("#words").checked(),F=a.find("#find").value(),F.length?z.text==F&&z.caseState==G&&z.wholeWord==E?0===t(b+1).length?void B():(c.next(),void C()):(d=c.find(F,G,E),d||B(),a.statusbar.items().slice(1).disabled(0===d),C(),void (z={text:F,caseState:G,wholeWord:E})):(c.done(!1),void a.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){a.submit()}},{text:"Replace",disabled:!0,onclick:function(){c.replace(a.find("#replace").value())||(a.statusbar.items().slice(1).disabled(!0),b=-1,z={})}},{text:"Replace all",disabled:!0,onclick:function(){c.replace(a.find("#replace").value(),!0,!0),a.statusbar.items().slice(1).disabled(!0),z={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){c.prev(),C()}},{text:"Next",name:"next",disabled:!0,onclick:function(){c.next(),C()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:A},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}function w(z){var d=z.getAttribute("data-mce-index");return"number"==typeof d?""+d:d}function v(a){var A,z;return z=y.dom.create("span",{"data-mce-bogus":1}),z.className="mce-match-marker",A=y.getBody(),c.done(!1),h.findAndReplaceDOMText(a,A,z,!1,y.schema)}function u(z){var d=z.parentNode;z.firstChild&&d.insertBefore(z.firstChild,z),z.parentNode.removeChild(z)}function t(C){var B,A=[];if(B=e.toArray(y.getBody().getElementsByTagName("span")),B.length){for(var z=0;z<B.length;z++){var a=w(B[z]);null!==a&&a.length&&a===C.toString()&&A.push(B[z])}}return A}function s(a){var B=b,A=y.dom;a=a!==!1,a?B++:B--,A.removeClass(t(b),"mce-match-marker-selected");var z=t(B);return z.length?(A.addClass(t(B),"mce-match-marker-selected"),y.selection.scrollIntoView(z[0]),B):-1}function r(a){var A=y.dom,z=a.parentNode;A.remove(a),A.isEmpty(z)&&A.remove(z)}function q(z){var d=w(z);return null!==d&&d.length>0}var c=this,b=-1;c.init=function(d){d.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:x,separator:"before",context:"edit"}),d.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:x}),d.addCommand("SearchReplace",x),d.shortcuts.add("Meta+F","",x)},c.find=function(A,z,C){A=A.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),A=C?"\\b"+A+"\\b":A;var B=v(new RegExp(A,z?"g":"gi"));return B&&(b=-1,b=s(!0)),B},c.next=function(){var d=s(!0);d!==-1&&(b=d)},c.prev=function(){var d=s(!1);d!==-1&&(b=d)},c.replace=function(G,F,E){var D,C,B,A,z,a,I=b;for(F=F!==!1,B=y.getBody(),C=e.grep(e.toArray(B.getElementsByTagName("span")),q),D=0;D<C.length;D++){var H=w(C[D]);if(A=z=parseInt(H,10),E||A===b){for(G.length?(C[D].firstChild.nodeValue=G,u(C[D])):r(C[D]);C[++D];){if(A=parseInt(w(C[D]),10),A!==z){D--;break}r(C[D])}F&&I--}else{z>b&&C[D].setAttribute("data-mce-index",z-1)}}return y.undoManager.add(),b=I,F?(a=t(I+1).length>0,c.next()):(a=t(I-1).length>0,c.prev()),!E&&a},c.done=function(E){var D,C,B,A;for(C=e.toArray(y.getBody().getElementsByTagName("span")),D=0;D<C.length;D++){var z=w(C[D]);null!==z&&z.length&&(z===b.toString()&&(B||(B=C[D].firstChild),A=C[D].firstChild),u(C[D]))}if(B&&A){var a=y.dom.createRng();return a.setStart(B,0),a.setEnd(A,A.data.length),E!==!1&&y.selection.setRng(a),a}}}return f.add("searchreplace",g),function(){}}),o("0")()}();