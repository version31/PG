!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};l("1",[],function(){function b(c){return c&&1==c.nodeType&&"false"===c.contentEditable}return function(ab,aa){function Z(d,c){if(!d[0]){throw"findAndReplaceDOMText cannot handle zero-length matches"}return{start:d.index,end:d.index+d[0].length,text:d[0],data:c}}function Y(d){var e;if(3===d.nodeType){return d.data}if(C[d.nodeName]&&!D[d.nodeName]){return""}if(b(d)){return"\n"}if(e="",(D[d.nodeName]||a[d.nodeName])&&(e+="\n"),d=d.firstChild){do{e+=Y(d)}while(d=d.nextSibling)}return e}function X(B,A,z){var y,x,w,v,u,t=[],s=0,r=B,q=0;A=A.slice(0),A.sort(function(d,c){return d.start-c.start}),u=A.shift();b:for(;;){if((D[r.nodeName]||a[r.nodeName]||b(r))&&s++,3===r.nodeType&&(!x&&r.length+s>=u.end?(x=r,v=u.end-s):y&&t.push(r),!y&&r.length+s>u.start&&(y=r,w=u.start-s),s+=r.length),y&&x){if(r=z({startNode:y,startNodeIndex:w,endNode:x,endNodeIndex:v,innerNodes:t,match:u.text,matchIndex:q}),s-=x.length-v,y=null,x=null,t=[],u=A.shift(),q++,!u){break}}else{if(C[r.nodeName]&&!D[r.nodeName]||!r.firstChild){if(r.nextSibling){r=r.nextSibling;continue}}else{if(!b(r)){r=r.firstChild;continue}}}for(;;){if(r.nextSibling){r=r.nextSibling;break}if(r.parentNode===B){break b}r=r.parentNode}}}function W(d){function c(f,q){var h=M[q];h.stencil||(h.stencil=d(h));var g=h.stencil.cloneNode(!1);return g.setAttribute("data-mce-index",q),f&&g.appendChild(K.doc.createTextNode(f)),g}return function(ai){var ah,ag,af,ae=ai.startNode,ad=ai.endNode,ac=ai.matchIndex,B=K.doc;if(ae===ad){var A=ae;af=A.parentNode,ai.startNodeIndex>0&&(ah=B.createTextNode(A.data.substring(0,ai.startNodeIndex)),af.insertBefore(ah,A));var z=c(ai.match,ac);return af.insertBefore(z,A),ai.endNodeIndex<A.length&&(ag=B.createTextNode(A.data.substring(ai.endNodeIndex)),af.insertBefore(ag,A)),A.parentNode.removeChild(A),z}ah=B.createTextNode(ae.data.substring(0,ai.startNodeIndex)),ag=B.createTextNode(ad.data.substring(ai.endNodeIndex));for(var y=c(ae.data.substring(ai.startNodeIndex),ac),x=[],w=0,v=ai.innerNodes.length;w<v;++w){var u=ai.innerNodes[w],t=c(u.data,ac);u.parentNode.replaceChild(t,u),x.push(t)}var s=c(ad.data.substring(0,ai.endNodeIndex),ac);return af=ae.parentNode,af.insertBefore(ah,ae),af.insertBefore(y,ae),af.removeChild(ae),af=ad.parentNode,af.insertBefore(s,ad),af.insertBefore(ag,ad),af.removeChild(ad),s}}function V(d){var c=d.parentNode;c.insertBefore(d.firstChild,d),d.parentNode.removeChild(d)}function U(h){var u=ab.getElementsByTagName("*"),t=[];h="number"==typeof h?""+h:null;for(var s=0;s<u.length;s++){var r=u[s],q=r.getAttribute("data-mce-index");null!==q&&q.length&&(q!==h&&null!==h||t.push(r))}return t}function T(d){for(var c=M.length;c--;){if(M[c]===d){return c}}return -1}function S(d){var c=[];return R(function(f,e){d(f,e)&&c.push(f)}),M=c,this}function R(e){for(var d=0,f=M.length;d<f&&e(M[d],d)!==!1;d++){}return this}function Q(c){return M.length&&X(ab,M,W(c)),this}function P(d,c){if(E&&d.global){for(;F=d.exec(E);){M.push(Z(F,c))}}return this}function O(e){var d,f=U(e?T(e):null);for(d=f.length;d--;){V(f[d])}return this}function N(c){return M[c.getAttribute("data-mce-index")]}function L(c){return U(T(c))[0]}function J(e,d,f){return M.push({start:e,end:e+d,text:E.substr(e,d),data:f}),this}function I(e){var c=U(T(e)),f=aa.dom.createRng();return f.setStartBefore(c[0]),f.setEndAfter(c[c.length-1]),f}function H(e,c){var f=I(e);return f.deleteContents(),c.length>0&&f.insertNode(aa.dom.doc.createTextNode(c)),f}function G(){return M.splice(0,M.length),O(),this}var F,E,D,C,a,M=[],K=aa.dom;return D=aa.schema.getBlockElements(),C=aa.schema.getWhiteSpaceElements(),a=aa.schema.getShortEndedElements(),E=Y(ab),{text:E,matches:M,each:R,filter:S,reset:G,matchFromElement:N,elementFromMatch:L,find:P,add:J,wrap:Q,unwrap:O,replace:H,rangeFromMatch:I,indexOf:T}}}),k("9",tinymce.util.Tools.resolve),l("2",["9"],function(b){return b("tinymce.PluginManager")}),l("3",["9"],function(b){return b("tinymce.util.Tools")}),l("4",["9"],function(b){return b("tinymce.ui.Menu")}),l("5",["9"],function(b){return b("tinymce.dom.DOMUtils")}),l("6",["9"],function(b){return b("tinymce.util.XHR")}),l("7",["9"],function(b){return b("tinymce.util.URI")}),l("8",["9"],function(b){return b("tinymce.util.JSON")}),l("0",["1","2","3","4","5","6","7","8"],function(r,q,x,w,v,u,t,s){return q.add("spellchecker",function(ab,aa){function Z(){return J.textMatcher||(J.textMatcher=new r(ab.getBody(),ab)),J.textMatcher}function Y(z,y){var A=[];return x.each(y,function(B){A.push({selectable:!0,text:B.name,data:B.value})}),A}function X(z){for(var y in z){return !1}return !0}function W(z,y){var E=[],D=R[z];x.each(D,function(F){E.push({text:F,onclick:function(){ab.insertContent(ab.dom.encode(F)),ab.dom.remove(y),O()}})}),E.push({text:"-"}),L&&E.push({text:"Add to Dictionary",onclick:function(){M(z,y)}}),E.push.apply(E,[{text:"Ignore",onclick:function(){K(z,y)}},{text:"Ignore all",onclick:function(){K(z,y,!0)}}]),N=new w({items:E,context:"contextmenu",onautohide:function(F){F.target.className.indexOf("spellchecker")!=-1&&F.preventDefault()},onhide:function(){N.remove(),N=null}}),N.renderTo(document.body);var C=v.DOM.getPos(ab.getContentAreaContainer()),B=ab.dom.getPos(y[0]),A=ab.dom.getRoot();"BODY"==A.nodeName?(B.x-=A.ownerDocument.documentElement.scrollLeft||A.scrollLeft,B.y-=A.ownerDocument.documentElement.scrollTop||A.scrollTop):(B.x-=A.scrollLeft,B.y-=A.scrollTop),C.x+=B.x,C.y+=B.y,N.moveTo(C.x,C.y+y[0].offsetHeight)}function V(){return ab.getParam("spellchecker_wordchar_pattern")||new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xa7\xa9\xab\xae\xb1\xb6\xb7\xb8\xbb\xbc\xbd\xbe\xbf\xd7\xf7\xa4\u201d\u201c\u201e\xa0\u2002\u2003\u2009]+',"g")}function U(A,y,D,C){var B={method:A,lang:g.spellchecker_language},z="";B["addToDictionary"==A?"word":"text"]=y,x.each(B,function(F,E){z&&(z+="&"),z+=E+"="+encodeURIComponent(F)}),u.send({url:new t(aa).toAbsolute(g.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:z,success:function(F){if(F=s.parse(F)){F.error?C(F.error):D(F)}else{var E=ab.translate("Server response wasn't proper JSON.");C(E)}},error:function(){var E=ab.translate("The spelling service was not found: (")+g.spellchecker_rpc_url+ab.translate(")");C(E)}})}function S(z,y,C,B){var A=g.spellchecker_callback||U;A.call(J,z,y,C,B)}function Q(){function y(z){ab.notificationManager.open({text:z,type:"error"}),ab.setProgressState(!1),h()}h()||(ab.setProgressState(!0),S("spellcheck",Z().text,a,y),ab.focus())}function O(){ab.dom.select("span.mce-spellchecker-word").length||h()}function M(z,y){ab.setProgressState(!0),S("addToDictionary",z,function(){ab.setProgressState(!1),ab.dom.remove(y,!0),O()},function(A){ab.notificationManager.open({text:A,type:"error"}),ab.setProgressState(!1)})}function K(z,y,A){ab.selection.collapse(),A?x.each(ab.dom.select("span.mce-spellchecker-word"),function(B){B.getAttribute("data-mce-word")==z&&ab.dom.remove(B,!0)}):ab.dom.remove(y,!0),O()}function h(){if(Z().reset(),J.textMatcher=null,P){return P=!1,ab.fire("SpellcheckEnd"),!0}}function f(z){var y=z.getAttribute("data-mce-index");return"number"==typeof y?""+y:y}function d(z){var y,C=[];if(y=x.toArray(ab.getBody().getElementsByTagName("span")),y.length){for(var B=0;B<y.length;B++){var A=f(y[B]);null!==A&&A.length&&A===z.toString()&&C.push(y[B])}}return C}function b(z){var y=g.spellchecker_language;z.control.items().each(function(A){A.active(A.settings.data===y)})}function a(z){var y;if(z.words?(L=!!z.dictionary,y=z.words):y=z,ab.setProgressState(!1),X(y)){var A=ab.translate("No misspellings found.");return ab.notificationManager.open({text:A,type:"info"}),void (P=!1)}R=y,Z().find(V()).filter(function(B){return !!y[B.text]}).wrap(function(B){return ab.dom.create("span",{"class":"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":B.text})}),P=!0,ab.fire("SpellcheckStart")}var T,R,P,N,L,J=this,g=ab.settings;if(/(^|[ ,])tinymcespellchecker([, ]|$)/.test(g.plugins)&&q.get("tinymcespellchecker")){return void ("undefined"!=typeof console&&console.log&&console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."))}var e=g.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";T=Y("Language",x.map(e.split(","),function(y){return y=y.split("="),{name:y[0],value:y[1]}})),ab.on("click",function(z){var y=z.target;if("mce-spellchecker-word"==y.className){z.preventDefault();var B=d(f(y));if(B.length>0){var A=ab.dom.createRng();A.setStartBefore(B[0]),A.setEndAfter(B[B.length-1]),ab.selection.setRng(A),W(y.getAttribute("data-mce-word"),B)}}}),ab.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:Q,selectable:!0,onPostRender:function(){var y=this;y.active(P),ab.on("SpellcheckStart SpellcheckEnd",function(){y.active(P)})}});var c={tooltip:"Spellcheck",onclick:Q,onPostRender:function(){var y=this;ab.on("SpellcheckStart SpellcheckEnd",function(){y.active(P)})}};T.length>1&&(c.type="splitbutton",c.menu=T,c.onshow=b,c.onselect=function(y){g.spellchecker_language=y.control.settings.data}),ab.addButton("spellchecker",c),ab.addCommand("mceSpellCheck",Q),ab.on("remove",function(){N&&(N.remove(),N=null)}),ab.on("change",O),this.getTextMatcher=Z,this.getWordCharPattern=V,this.markErrors=a,this.getLanguage=function(){return g.spellchecker_language},g.spellchecker_language=g.spellchecker_language||g.language||"en"}),function(){}}),o("0")()}();