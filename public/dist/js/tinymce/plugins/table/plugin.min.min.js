!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("a",tinymce.util.Tools.resolve),l("6",["a"],function(b){return b("tinymce.util.Tools")}),l("8",["a"],function(b){return b("tinymce.Env")}),l("b",["8"],function(f){function e(a){(!f.ie||f.ie>9)&&(a.hasChildNodes()||(a.innerHTML='<br data-mce-bogus="1" />'))}var h=function(b){return function(a,d){a&&(d=parseInt(d,10),1===d||0===d?a.removeAttribute(b,1):a.setAttribute(b,d,1))}},g=function(b){return function(a){return parseInt(a.getAttribute(b)||1,10)}};return{setColSpan:h("colSpan"),setRowSpan:h("rowspan"),getColSpan:g("colSpan"),getRowSpan:g("rowSpan"),setSpanVal:function(q,c,r){h(c)(q,r)},getSpanVal:function(d,c){return g(c)(d)},paddCell:e}}),l("c",["6","b"],function(B,A){var z=function(e,d,f){return e[f]?e[f][d]:null},y=function(f,c,h){var g=z(f,c,h);return g?g.elm:null},x=function(d,c,H,G){var F,E,D=0,C=y(d,c,H);for(F=H;(G>0?F<d.length:F>=0)&&(E=z(d,c,F),C===E.elm);F+=G){D++}return D},w=function(h,g,F){for(var E,D=h[F],C=g;C<D.length;C++){if(E=D[C],E.real){return E.elm}}return null},v=function(b,F){for(var E,D=[],C=b[F],e=0;e<C.length;e++){E=C[e],D.push({elm:E.elm,above:x(b,e,F,-1)-1,below:x(b,e,F,1)-1}),e+=A.getColSpan(E.elm)-1}return D},u=function(b,h){var g=b.elm.ownerDocument,f=g.createElement("td");return A.setColSpan(f,A.getColSpan(b.elm)),A.setRowSpan(f,h),A.paddCell(f),f},t=function(g,f,D,C){var h=w(g,D+1,C);h?h.parentNode.insertBefore(f,h):(h=w(g,0,C),h.parentNode.appendChild(f))},s=function(b,D,C,h){if(0!==D.above){A.setRowSpan(D.elm,D.above);var g=u(D,D.below+1);return t(b,g,C,h),g}return null},r=function(b,D,C,h){if(0!==D.below){A.setRowSpan(D.elm,D.above+1);var g=u(D,D.below);return t(b,g,C,h+1),g}return null},q=function(a,F,E,D){var C=v(a,E),g=y(a,F,E).parentNode,d=[];return B.each(C,function(b,f){var e=D?s(a,b,f,E):r(a,b,f,E);null!==e&&d.push(d)}),{cells:d,row:g}};return{splitAt:q}}),l("1",["6","8","b","c"],function(q,h,v,u){var t=q.each,s=v.getSpanVal,r=v.setSpanVal;return function(aQ,aP,aO){function aN(){aQ.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function aM(w){return w===aQ.getBody()}function aL(w,x){return w?(x=q.map(x.split(","),function(y){return y.toLowerCase()}),q.grep(w.childNodes,function(y){return q.inArray(x,y.nodeName.toLowerCase())!==-1})):[]}function aK(){var w=0;a=[],aw=0,t(["thead","tbody","tfoot"],function(x){var z=aL(aP,x)[0],y=aL(z,"tr");t(y,function(B,A){A+=w,t(aL(B,"td,th"),function(C,H){var G,F,E,D;if(a[A]){for(;a[A][H];){H++}}for(E=s(C,"rowspan"),D=s(C,"colspan"),F=A;F<A+E;F++){for(a[F]||(a[F]=[]),G=H;G<H+D;G++){a[F][G]={part:x,real:F==A&&G==H,elm:C,rowspan:E,colspan:D}}}aw=Math.max(aw,H+1)})}),w+=y.length})}function aJ(w){return aQ.fire("newrow",{node:w}),w}function aI(w){return aQ.fire("newcell",{node:w}),w}function aH(x,w){return x=x.cloneNode(w),x.removeAttribute("id"),x}function aG(x,w){var y;if(y=a[w]){return y[x]}}function aF(x,w){return x[w]?x[w]:null}function aE(x,w){for(var z=[],y=0;y<x.length;y++){z.push(aG(w,y))}return z}function aD(w){return w&&(!!ax.getAttrib(w.elm,"data-mce-selected")||w==aO)}function aC(){var w=[];return t(aP.rows,function(x){t(x.cells,function(y){if(ax.getAttrib(y,"data-mce-selected")||aO&&y==aO.elm){return w.push(x),!1}})}),w}function aB(){var w=0;return t(a,function(x){if(t(x,function(y){aD(y)&&w++}),w){return !1}}),w}function aA(){var w=ax.createRng();aM(aP)||(w.setStartAfter(aP),w.setEndAfter(aP),aR.setRng(w),ax.remove(aP))}function az(y){var x,w={};return aQ.settings.table_clone_elements!==!1&&(w=q.makeMap((aQ.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),q.walk(y,function(z){var A;if(3==z.nodeType){return t(ax.getParents(z.parentNode,null,y).reverse(),function(B){w[B.nodeName]&&(B=aH(B,!1),x?A&&A.appendChild(B):x=A=B,A=B)}),A&&(A.innerHTML=h.ie&&h.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1}},"childNodes"),y=aH(y,!1),aI(y),r(y,"rowSpan",1),r(y,"colSpan",1),x?y.appendChild(x):v.paddCell(y),y}function ay(){var x,w=ax.createRng();return t(ax.select("tr",aP),function(y){0===y.cells.length&&ax.remove(y)}),0===ax.select("tr",aP).length?(w.setStartBefore(aP),w.setEndBefore(aP),aR.setRng(w),void ax.remove(aP)):(t(ax.select("thead,tbody,tfoot",aP),function(y){0===y.rows.length&&ax.remove(y)}),aK(),void (aS&&(x=a[Math.min(a.length-1,aS.y)],x&&(aR.select(x[Math.min(x.length-1,aS.x)].elm,!0),aR.collapse(!0)))))}function au(E,D,C,B){var A,z,y,x,w;for(A=a[D][E].elm.parentNode,y=1;y<=C;y++){if(A=ax.getNext(A,"tr")){for(z=E;z>=0;z--){if(w=a[D+y][z].elm,w.parentNode==A){for(x=1;x<=B;x++){ax.insertAfter(az(w),w)}break}}if(z==-1){for(x=1;x<=B;x++){A.insertBefore(az(A.cells[0]),A.cells[0])}}}}}function at(){t(a,function(x,w){t(x,function(y,C){var B,A,z;if(aD(y)&&(y=y.elm,B=s(y,"colspan"),A=s(y,"rowspan"),B>1||A>1)){for(r(y,"rowSpan",1),r(y,"colSpan",1),z=0;z<B-1;z++){ax.insertAfter(az(y),y)}au(C,w,A-1,B)}})})}function ar(x,w,A){for(var z=[],y=0;y<x.length;y++){(y<w||y>A)&&z.push(x[y])}return z}function aq(w){return q.grep(w,function(x){return x.real===!1})}function ap(x){for(var w=[],z=0;z<x.length;z++){var y=x[z].elm;w[w.length-1]!==y&&w.push(y)}return w}function ao(E,D,C,B,A){var z=0;if(A-C<1){return 0}for(var y=C+1;y<=A;y++){var x=ar(aF(E,y),D,B),w=aq(x);x.length===w.length&&(q.each(ap(w),function(F){v.setRowSpan(F,v.getRowSpan(F)-1)}),z++)}return z}function an(E,D,C,B,A){var z=0;if(B-D<1){return 0}for(var y=D+1;y<=B;y++){var x=ar(aE(E,y),C,A),w=aq(x);x.length===w.length&&(q.each(ap(w),function(F){v.setColSpan(F,v.getColSpan(F)-1)}),z++)}return z}function am(P,O,N){var M,L,K,J,I,H,G,F,E,D,C,B,A;if(P?(M=g(P),L=M.x,K=M.y,J=L+(O-1),I=K+(N-1)):(aS=av=null,t(a,function(x,w){t(x,function(Q,R){aD(Q)&&(aS||(aS={x:R,y:w}),av={x:R,y:w})})}),aS&&(L=aS.x,K=aS.y,J=av.x,I=av.y)),F=aG(L,K),E=aG(J,I),F&&E&&F.part==E.part){at(),aK(),B=ao(a,L,K,J,I),A=an(a,L,K,J,I),F=aG(L,K).elm;var z=J-L-A+1,y=I-K-B+1;for(z===aw&&y===a.length&&(z=1,y=1),z===aw&&y>1&&(y=1),r(F,"colSpan",z),r(F,"rowSpan",y),G=K;G<=I;G++){for(H=L;H<=J;H++){a[G]&&a[G][H]&&(P=a[G][H].elm,P!=F&&(D=q.grep(P.childNodes),t(D,function(w){F.appendChild(w)}),D.length&&(D=q.grep(F.childNodes),C=0,t(D,function(w){"BR"==w.nodeName&&C++<D.length-1&&F.removeChild(w)})),ax.remove(P)))}}ay()}}function al(G){var F,E,D,C,B,A,z,y,x,w;if(t(a,function(I,H){if(t(I,function(J){if(aD(J)&&(J=J.elm,B=J.parentNode,A=aJ(aH(B,!1)),F=H,G)){return !1}}),G){return void 0===F}}),void 0!==F){for(C=0,w=0;C<a[0].length;C+=w){if(a[F][C]&&(E=a[F][C].elm,w=s(E,"colspan"),E!=D)){if(G){if(F>0&&a[F-1][C]&&(y=a[F-1][C].elm,x=s(y,"rowSpan"),x>1)){r(y,"rowSpan",x+1);continue}}else{if(x=s(E,"rowspan"),x>1){r(E,"rowSpan",x+1);continue}}z=az(E),r(z,"colSpan",E.colSpan),A.appendChild(z),D=E}}A.hasChildNodes()&&(G?B.parentNode.insertBefore(A,B):ax.insertAfter(A,B))}}function ak(x,w){w=w||aC().length||1;for(var y=0;y<w;y++){al(x)}}function aj(x){var w,y;t(a,function(z){if(t(z,function(B,A){if(aD(B)&&(w=A,x)){return !1}}),x){return void 0===w}}),t(a,function(D,C){var B,A,z;D[w]&&(B=D[w].elm,B!=y&&(z=s(B,"colspan"),A=s(B,"rowspan"),1==z?x?(B.parentNode.insertBefore(az(B),B),au(w,C,A-1,z)):(ax.insertAfter(az(B),B),au(w,C,A-1,z)):r(B,"colSpan",B.colSpan+1),y=B))})}function ai(x,w){w=w||aB()||1;for(var y=0;y<w;y++){aj(x)}}function ah(w){return q.grep(ag(w),aD)}function ag(x){var w=[];return t(x,function(y){t(y,function(z){w.push(z)})}),w}function af(){var w=[];if(aM(aP)){if(1==a[0].length){return}if(ah(a).length==ag(a).length){return}}t(a,function(x){t(x,function(z,y){aD(z)&&q.inArray(w,y)===-1&&(t(a,function(B){var A,C=B[y].elm;A=s(C,"colSpan"),A>1?r(C,"colSpan",A-1):ax.remove(C)}),w.push(y))})}),ay()}function ae(){function x(z){var y,A;t(z.cells,function(B){var C=s(B,"rowSpan");C>1&&(r(B,"rowSpan",C-1),y=g(B),au(y.x,y.y,1,1))}),y=g(z.cells[0]),t(a[y.y],function(C){var B;C=C.elm,C!=A&&(B=s(C,"rowSpan"),B<=1?ax.remove(C):r(C,"rowSpan",B-1),A=C)})}var w;w=aC(),aM(aP)&&w.length==aP.rows.length||(t(w.reverse(),function(y){x(y)}),ay())}function ad(){var w=aC();if(!aM(aP)||w.length!=aP.rows.length){return ax.remove(w),ay(),w}}function ac(){var w=aC();return t(w,function(x,y){w[y]=aH(x,!0)}),w}function ab(w,B){var A,z,y,x=[];w&&(A=u.splitAt(a,aS.x,aS.y,B),z=A.row,q.each(A.cells,aI),y=q.map(w,function(C){return C.cloneNode(!0)}),t(y,function(K,J,I){var H,G,F,E,D=K.cells.length,C=0;for(aJ(K),H=0;H<D;H++){G=K.cells[H],E=s(G,"colspan"),F=s(G,"rowspan"),C+=E,F>1&&(C--,J+F>I.length?(F=I.length-J,r(G,"rowSpan",F),x.push(I.length-1)):x.push(J+F-1)),aI(G)}for(t(x,function(L){J<=L&&C++}),H=C;H<aw;H++){K.appendChild(az(K.cells[D-1]))}for(H=aw;H<C;H++){G=K.cells[K.cells.length-1],E=s(G,"colspan"),E>1?r(G,"colSpan",E-1):ax.remove(G)}B?z.parentNode.insertBefore(K,z):z=ax.insertAfter(K,z)}),aN())}function g(x){var w;return t(a,function(z,y){return t(z,function(B,A){if(B.elm==x){return w={x:A,y:y},!1}}),!w}),w}function f(w){aS=g(w)}function e(){var x,w;return x=w=0,t(a,function(z,y){t(z,function(D,C){var B,A;aD(D)&&(D=a[y][C],C>x&&(x=C),y>w&&(w=y),D.real&&(B=D.colspan-1,A=D.rowspan-1,B&&C+B>x&&(x=C+B),A&&y+A>w&&(w=y+A)))})}),{x:x,y:w}}function d(G){var F,E,D,C,B,A,z,y,x,w;if(av=g(G),aS&&av){for(F=Math.min(aS.x,av.x),E=Math.min(aS.y,av.y),D=Math.max(aS.x,av.x),C=Math.max(aS.y,av.y),B=D,A=C,w=E;w<=C;w++){for(x=F;x<=D;x++){G=a[w][x],G.real&&(z=G.colspan-1,y=G.rowspan-1,z&&x+z>B&&(B=x+z),y&&w+y>A&&(A=w+y))}}for(aN(),w=E;w<=A;w++){for(x=F;x<=B;x++){a[w][x]&&ax.setAttrib(a[w][x].elm,"data-mce-selected","1")}}}}function c(x,w){var A,z,y;A=g(x),z=A.y*aw+A.x;do{if(z+=w,y=aG(z%aw,Math.floor(z/aw)),!y){break}if(y.elm!=x){return aR.select(y.elm,!0),ax.isEmpty(y.elm)&&aR.collapse(!0),!0}}while(y.elm==x);return !1}function b(w){if(aS){var x=u.splitAt(a,aS.x,aS.y,w);q.each(x.cells,aI)}}var a,aw,aS,av,aR=aQ.selection,ax=aR.dom;aP=aP||ax.getParent(aR.getStart(!0),"table"),aK(),aO=aO||ax.getParent(aR.getStart(!0),"th,td"),aO&&(aS=g(aO),av=e(),aO=aG(aS.x,aS.y)),q.extend(this,{deleteTable:aA,split:at,merge:am,insertRow:al,insertRows:ak,insertCol:aj,insertCols:ai,splitCols:b,deleteCols:af,deleteRows:ae,cutRows:ad,copyRows:ac,pasteRows:ab,getPos:g,setStartCell:f,setEndCell:d,moveRelIdx:c,refresh:aK})}}),l("d",["a"],function(b){return b("tinymce.util.VK")}),l("e",["a"],function(b){return b("tinymce.util.Delay")}),l("2",["d","e","8","6","b"],function(q,h,v,u,t){var s=u.each,r=t.getSpanVal;return function(f){function e(){function w(J){function I(W,V){var U=W?"previousSibling":"nextSibling",T=f.dom.getParent(V,"tr"),S=T[U];if(S){return x(f,V,S,W),J.preventDefault(),!0}var R=f.dom.getParent(T,"table"),Q=T.parentNode,P=Q.nodeName.toLowerCase();if("tbody"===P||P===(W?"tfoot":"thead")){var O=H(W,R,Q,"tbody");if(null!==O){return F(W,O,V)}}return E(W,T,U,R)}function H(P,O,U,T){var S=f.dom.select(">"+T,O),R=S.indexOf(U);if(P&&0===R||!P&&R===S.length-1){return G(P,O)}if(R===-1){var Q="thead"===U.tagName.toLowerCase()?0:S.length-1;return S[Q]}return S[R+(P?-1:1)]}function G(P,O){var R=P?"thead":"tfoot",Q=f.dom.select(">"+R,O);return 0!==Q.length?Q[0]:null}function F(P,O,R){var Q=D(O,P);return Q&&x(f,R,Q,P),J.preventDefault(),!0}function E(P,O,U,T){var S=T[U];if(S){return C(S),!0}var R=f.dom.getParent(T,"td,th");if(R){return I(P,R,J)}var Q=D(O,!P);return C(Q),J.preventDefault(),!1}function D(P,O){var Q=P&&P[O?"lastChild":"firstChild"];return Q&&"BR"===Q.nodeName?f.dom.getParent(Q,"td,th"):Q}function C(O){f.selection.setCursorLocation(O,0)}function B(){return L==q.UP||L==q.DOWN}function A(P){var O=P.selection.getNode(),Q=P.dom.getParent(O,"tr");return null!==Q}function z(P){for(var O=0,Q=P;Q.previousSibling;){Q=Q.previousSibling,O+=r(Q,"colspan")}return O}function y(P,O){var R=0,Q=0;return s(P.children,function(S,T){if(R+=r(S,"colspan"),Q=T,R>O){return !1}}),Q}function x(P,O,V,U){var T=z(f.dom.getParent(O,"td,th")),S=y(V,T),R=V.childNodes[S],Q=D(R,U);C(Q||R)}function N(P){var O=f.selection.getNode(),R=f.dom.getParent(O,"td,th"),Q=f.dom.getParent(P,"td,th");return R&&R!==Q&&M(R,Q)}function M(P,O){return f.dom.getParent(P,"TABLE")===f.dom.getParent(O,"TABLE")}var L=J.keyCode;if(B()&&A(f)){var K=f.selection.getNode();h.setEditorTimeout(f,function(){N(K)&&I(!J.shiftKey&&L===q.UP,K,J)},0)}}f.on("KeyDown",function(x){w(x)})}function d(){function w(y,x){var B,A=x.ownerDocument,z=A.createRange();return z.setStartBefore(x),z.setEnd(y.endContainer,y.endOffset),B=A.createElement("body"),B.appendChild(z.cloneContents()),0===B.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}f.on("KeyDown",function(x){var A,z,y=f.dom;37!=x.keyCode&&38!=x.keyCode||(A=f.selection.getRng(),z=y.getParent(A.startContainer,"table"),z&&f.getBody().firstChild==z&&w(A,z)&&(A=y.createRng(),A.setStartBefore(z),A.setEndBefore(z),f.selection.setRng(A),x.preventDefault()))})}function c(){f.on("KeyDown SetContent VisualAid",function(){var w;for(w=f.getBody().lastChild;w;w=w.previousSibling){if(3==w.nodeType){if(w.nodeValue.length>0){break}}else{if(1==w.nodeType&&("BR"==w.tagName||!w.getAttribute("data-mce-bogus"))){break}}}w&&"TABLE"==w.nodeName&&(f.settings.forced_root_block?f.dom.add(f.getBody(),f.settings.forced_root_block,f.settings.forced_root_block_attrs,v.ie&&v.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):f.dom.add(f.getBody(),"br",{"data-mce-bogus":"1"}))}),f.on("PreProcess",function(x){var w=x.node.lastChild;w&&("BR"==w.nodeName||1==w.childNodes.length&&("BR"==w.firstChild.nodeName||"\xa0"==w.firstChild.nodeValue))&&w.previousSibling&&"TABLE"==w.previousSibling.nodeName&&f.dom.remove(w)})}function b(){function x(G,F,E,D){var C,B,A,z=3,y=G.dom.getParent(F.startContainer,"TABLE");return y&&(C=y.parentNode),B=F.startContainer.nodeType==z&&0===F.startOffset&&0===F.endOffset&&D&&("TR"==E.nodeName||E==C),A=("TD"==E.nodeName||"TH"==E.nodeName)&&!D,B||A}function w(){var y=f.selection.getRng(),B=f.selection.getNode(),A=f.dom.getParent(y.startContainer,"TD,TH");if(x(f,y,B,A)){A||(A=B);for(var z=A.lastChild;z.lastChild;){z=z.lastChild}3==z.nodeType&&(y.setEnd(z,z.data.length),f.selection.setRng(y))}}f.on("KeyDown",function(){w()}),f.on("MouseDown",function(y){2!=y.button&&w()})}function a(){function w(y){f.selection.select(y,!0),f.selection.collapse(!0)}function x(y){f.$(y).empty(),t.paddCell(y)}f.on("keydown",function(C){if((C.keyCode==q.DELETE||C.keyCode==q.BACKSPACE)&&!C.isDefaultPrevented()){var B,A,z,y;if(B=f.dom.getParent(f.selection.getStart(),"table")){if(A=f.dom.select("td,th",B),z=u.grep(A,function(D){return !!f.dom.getAttrib(D,"data-mce-selected")}),0===z.length){return y=f.dom.getParent(f.selection.getStart(),"td,th"),void (f.selection.isCollapsed()&&y&&f.dom.isEmpty(y)&&(C.preventDefault(),x(y),w(y)))}C.preventDefault(),f.undoManager.transact(function(){A.length==z.length?f.execCommand("mceTableDelete"):(u.each(z,x),w(z[0]))})}}})}function g(){var E="\ufeff",D=function(F){return f.dom.isEmpty(F)||F.firstChild===F.lastChild&&A(F.firstChild)},C=function(F){return F&&"CAPTION"==F.nodeName&&"TABLE"==F.parentNode.nodeName},B=function(G,F){var H=F.firstChild;do{if(H===G){return !0}}while(H=H.firstChild);return !1},A=function(F){if(3===F.nodeType){if(F.data===E){return !0}F=F.parentNode}return 1===F.nodeType&&F.hasAttribute("data-mce-caret")},z=function(G){var F=f.selection.getRng();return !F.startOffset&&!F.startContainer.previousSibling&&B(F.startContainer,G)},y=function(F,H){var G;G=H?f.dom.create("p",{"data-mce-caret":"after","data-mce-bogus":"all"},'<br data-mce-bogus="1">'):F.ownerDocument.createTextNode(E),F.appendChild(G)},x=function(F,K){var J=F.lastChild,I=f.selection.getRng(),H=I.startContainer,G=I.startOffset;D(F)?(F.innerHTML=E,H=F.lastChild,G=0):A(J)||y(F,f.dom.isBlock(J)),f.selection.setCursorLocation(H,G)},w=function(G){var F=f.selection.getRng(),I=f.dom.createRng(),H=G.firstChild;F.commonAncestorContainer===G.parentNode&&B(F.startContainer,G)&&(I.setStart(G,0),1===H.nodeType?I.setEnd(G,G.childNodes.length):I.setEnd(H,H.nodeValue.length),f.selection.setRng(I))};f.on("keydown",function(F){if(!(F.keyCode!==q.DELETE&&F.keyCode!==q.BACKSPACE||F.isDefaultPrevented())){var G=f.dom.getParent(f.selection.getStart(),"caption");C(G)&&(f.selection.isCollapsed()?(x(G),(D(G)||F.keyCode===q.BACKSPACE&&z(G))&&F.preventDefault()):(w(G),f.undoManager.transact(function(){f.execCommand("Delete"),x(G)}),F.preventDefault()))}})}g(),a(),v.webkit&&(e(),b()),v.gecko&&(d(),c()),v.ie>9&&(d(),c())}}),l("7",["a"],function(b){return b("tinymce.dom.TreeWalker")}),l("3",["1","7","6"],function(e,d,f){return function(B,A){function z(g){B.getBody().style.webkitUserSelect="",(g||b)&&(B.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),b=!1)}function y(h,g){return !(!h||!g)&&h===c.getParent(g,"table")}function x(g){var E,D,C=g.target;if(!s&&!r&&C!==t&&(t=C,u&&v)){if(D=c.getParent(C,"td,th"),y(u,D)||(D=c.getParent(u,"td,th")),v===D&&!b){return}if(A(!0),y(u,D)){g.preventDefault(),w||(w=new q(B,u,v),B.getBody().style.webkitUserSelect="none"),w.setEndCell(D),b=!0,E=B.selection.getSel();try{E.removeAllRanges?E.removeAllRanges():E.empty()}catch(q){}}}}var w,v,u,t,s,r,c=B.dom,b=!0,a=function(){v=w=u=t=null,A(!1)};return B.on("SelectionChange",function(g){b&&g.stopImmediatePropagation()},!0),B.on("MouseDown",function(g){2==g.button||s||r||(z(),v=c.getParent(g.target,"td,th"),u=c.getParent(v,"table"))}),B.on("mouseover",x),B.on("remove",function(){c.unbind(B.getDoc(),"mouseover",x),z()}),B.on("MouseUp",function(){function C(g,I){var h=new d(g,g);do{if(3==g.nodeType&&0!==f.trim(g.nodeValue).length){return void (I?H.setStart(g,0):H.setEnd(g,g.nodeValue.length))}if("BR"==g.nodeName){return void (I?H.setStartBefore(g):H.setEndBefore(g))}}while(g=I?h.next():h.prev())}var H,G,F,E,D,q=B.selection;if(v){if(w&&(B.getBody().style.webkitUserSelect=""),G=c.select("td[data-mce-selected],th[data-mce-selected]"),G.length>0){H=c.createRng(),E=G[0],H.setStartBefore(E),H.setEndAfter(E),C(E,1),F=new d(E,c.getParent(G[0],"table"));do{if("TD"==E.nodeName||"TH"==E.nodeName){if(!c.getAttrib(E,"data-mce-selected")){break}D=E}}while(E=F.next());C(D),q.setRng(H)}B.nodeChanged(),a()}}),B.on("KeyUp Drop SetContent",function(g){z("setcontent"==g.type),a(),s=!1}),B.on("ObjectResizeStart ObjectResized",function(g){s="objectresized"!=g.type}),B.on("dragstart",function(){r=!0}),B.on("drop dragend",function(){r=!1}),{clear:z}}}),l("4",["6","8"],function(e,d){var f=e.each;return function(y){function x(){var g=y.settings.color_picker_callback;if(g){return function(){var h=this;g.call(y,function(z){h.value(z).fire("change")},h.value())}}}function w(g){return{title:"Advanced",type:"form",defaults:{onchange:function(){q(g,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:x()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:x()}]}]}}function v(g){return g?g.replace(/px$/,""):""}function u(g){return/^[0-9]+$/.test(g)&&(g+="px"),g}function t(g){f("left center right".split(" "),function(h){y.formatter.remove("align"+h,{},g)})}function s(g){f("top middle bottom".split(" "),function(h){y.formatter.remove("valign"+h,{},g)})}function r(g,A,z){function h(B,C){return C=C||[],e.each(B,function(E){var D={text:E.text||E.title};E.menu?D.menu=h(E.menu):(D.value=E.value,A&&A(D)),C.push(D)}),C}return h(g,z||[])}function q(h,g,B){var A=g.toJSON(),z=h.parseStyle(A.style);B?(g.find("#borderColor").value(z["border-color"]||"")[0].fire("change"),g.find("#backgroundColor").value(z["background-color"]||"")[0].fire("change")):(z["border-color"]=A.borderColor,z["background-color"]=A.backgroundColor),g.find("#style").value(h.serializeStyle(h.parseStyle(h.serializeStyle(z))))}function c(h,g,A){var z=h.parseStyle(h.getAttrib(A,"style"));z["border-color"]&&(g.borderColor=z["border-color"]),z["background-color"]&&(g.backgroundColor=z["background-color"]),g.style=h.serializeStyle(z)}function b(h,g,A){var z=h.parseStyle(h.getAttrib(g,"style"));f(A,function(B){z[B.name]=B.value}),h.setAttrib(g,"style",h.serializeStyle(h.parseStyle(h.serializeStyle(z))))}var a=this;a.tableProps=function(){a.table(!0)},a.table=function(C){function B(){function J(L,K,N){if("TD"===L.tagName||"TH"===L.tagName){E.setStyle(L,K,N)}else{if(L.children){for(var M=0;M<L.children.length;M++){J(L.children[M],K,N)}}}}var I;q(E,this),D=e.extend(D,this.toJSON()),D["class"]===!1&&delete D["class"],y.undoManager.transact(function(){if(z||(z=y.plugins.table.insertTable(D.cols||1,D.rows||1)),y.dom.setAttribs(z,{style:D.style,"class":D["class"]}),y.settings.table_style_by_css){if(F=[],F.push({name:"border",value:D.border}),F.push({name:"border-spacing",value:u(D.cellspacing)}),b(E,z,F),E.setAttribs(z,{"data-mce-border-color":D.borderColor,"data-mce-cell-padding":D.cellpadding,"data-mce-border":D.border}),z.children){for(var K=0;K<z.children.length;K++){J(z.children[K],"border",D.border),J(z.children[K],"padding",u(D.cellpadding))}}}else{y.dom.setAttribs(z,{border:D.border,cellpadding:D.cellpadding,cellspacing:D.cellspacing})}E.getAttrib(z,"width")&&!y.settings.table_style_by_css?E.setAttrib(z,"width",v(D.width)):E.setStyle(z,"width",u(D.width)),E.setStyle(z,"height",u(D.height)),I=E.select("caption",z)[0],I&&!D.caption&&E.remove(I),!I&&D.caption&&(I=E.create("caption"),I.innerHTML=d.ie?"\xa0":'<br data-mce-bogus="1"/>',z.insertBefore(I,z.firstChild)),t(z),D.align&&y.formatter.apply("align"+D.align,{},z),y.focus(),y.addVisual()})}function A(J,I){function M(N,Q){for(var P=0;P<Q.length;P++){var O=E.getStyle(Q[P],I);if("undefined"==typeof N&&(N=O),N!=O){return""}}return N}var L,K=y.dom.select("td,th",J);return L=M(L,K)}var z,h,g,H,G,F,E=y.dom,D={};C===!0?(z=E.getParent(y.selection.getStart(),"table"),z&&(D={width:v(E.getStyle(z,"width")||E.getAttrib(z,"width")),height:v(E.getStyle(z,"height")||E.getAttrib(z,"height")),cellspacing:v(E.getStyle(z,"border-spacing")||E.getAttrib(z,"cellspacing")),cellpadding:E.getAttrib(z,"data-mce-cell-padding")||E.getAttrib(z,"cellpadding")||A(z,"padding"),border:E.getAttrib(z,"data-mce-border")||E.getAttrib(z,"border")||A(z,"border"),borderColor:E.getAttrib(z,"data-mce-border-color"),caption:!!E.select("caption",z)[0],"class":E.getAttrib(z,"class")},f("left center right".split(" "),function(I){y.formatter.matchNode(z,"align"+I)&&(D.align=I)}))):(h={label:"Cols",name:"cols"},g={label:"Rows",name:"rows"}),y.settings.table_class_list&&(D["class"]&&(D["class"]=D["class"].replace(/\s*mce\-item\-table\s*/g,"")),H={name:"class",type:"listbox",label:"Class",values:r(y.settings.table_class_list,function(I){I.value&&(I.textStyle=function(){return y.formatter.getCssText({block:"table",classes:[I.value]})})})}),G={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:y.settings.table_appearance_options!==!1?[h,g,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[h,g,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},H]},y.settings.table_advtab!==!1?(c(E,D,z),y.windowManager.open({title:"Table properties",data:D,bodyType:"tabpanel",body:[{title:"General",type:"form",items:G},w(E)],onsubmit:B})):y.windowManager.open({title:"Table properties",data:D,body:G,onsubmit:B})},a.merge=function(h,g){y.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var z=this.toJSON();y.undoManager.transact(function(){h.merge(g,z.cols,z.rows)})}})},a.cell=function(){function D(H,G,I){(1===F.length||I)&&g.setAttrib(H,G,I)}function C(H,G,I){(1===F.length||I)&&g.setStyle(H,G,I)}function B(){q(g,this),z=e.extend(z,this.toJSON()),y.undoManager.transact(function(){f(F,function(G){D(G,"scope",z.scope),D(G,"style",z.style),D(G,"class",z["class"]),C(G,"width",u(z.width)),C(G,"height",u(z.height)),z.type&&G.nodeName.toLowerCase()!==z.type&&(G=g.rename(G,z.type)),1===F.length&&(t(G),s(G)),z.align&&y.formatter.apply("align"+z.align,{},G),z.valign&&y.formatter.apply("valign"+z.valign,{},G)}),y.focus()})}var A,z,h,g=y.dom,F=[];if(F=y.dom.select("td[data-mce-selected],th[data-mce-selected]"),A=y.dom.getParent(y.selection.getStart(),"td,th"),!F.length&&A&&F.push(A),A=A||F[0]){F.length>1?z={width:"",height:"",scope:"","class":"",align:"",style:"",type:A.nodeName.toLowerCase()}:(z={width:v(g.getStyle(A,"width")||g.getAttrib(A,"width")),height:v(g.getStyle(A,"height")||g.getAttrib(A,"height")),scope:g.getAttrib(A,"scope"),"class":g.getAttrib(A,"class")},z.type=A.nodeName.toLowerCase(),f("left center right".split(" "),function(G){y.formatter.matchNode(A,"align"+G)&&(z.align=G)}),f("top middle bottom".split(" "),function(G){y.formatter.matchNode(A,"valign"+G)&&(z.valign=G)}),c(g,z,A)),y.settings.table_cell_class_list&&(h={name:"class",type:"listbox",label:"Class",values:r(y.settings.table_cell_class_list,function(G){G.value&&(G.textStyle=function(){return y.formatter.getCssText({block:"td",classes:[G.value]})})})});var E={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},h]};y.settings.table_cell_advtab!==!1?y.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:z,body:[{title:"General",type:"form",items:E},w(g)],onsubmit:B}):y.windowManager.open({title:"Cell properties",data:z,body:E,onsubmit:B})}},a.row=function(){function E(J,I,K){(1===F.length||K)&&G.setAttrib(J,I,K)}function D(J,I,K){(1===F.length||K)&&G.setStyle(J,I,K)}function C(){var K,J,I;q(G,this),g=e.extend(g,this.toJSON()),y.undoManager.transact(function(){var L=g.type;f(F,function(M){E(M,"scope",g.scope),E(M,"style",g.style),E(M,"class",g["class"]),D(M,"height",u(g.height)),L!==M.parentNode.nodeName.toLowerCase()&&(K=G.getParent(M,"table"),J=M.parentNode,I=G.select(L,K)[0],I||(I=G.create(L),K.firstChild?K.insertBefore(I,K.firstChild):K.appendChild(I)),I.appendChild(M),J.hasChildNodes()||G.remove(J)),1===F.length&&t(M),g.align&&y.formatter.apply("align"+g.align,{},M)}),y.focus()})}var B,A,z,h,g,H,G=y.dom,F=[];B=y.dom.getParent(y.selection.getStart(),"table"),A=y.dom.getParent(y.selection.getStart(),"td,th"),f(B.rows,function(I){f(I.cells,function(J){if(G.getAttrib(J,"data-mce-selected")||J==A){return F.push(I),!1}})}),z=F[0],z&&(F.length>1?g={height:"",scope:"","class":"",align:"",type:z.parentNode.nodeName.toLowerCase()}:(g={height:v(G.getStyle(z,"height")||G.getAttrib(z,"height")),scope:G.getAttrib(z,"scope"),"class":G.getAttrib(z,"class")},g.type=z.parentNode.nodeName.toLowerCase(),f("left center right".split(" "),function(I){y.formatter.matchNode(z,"align"+I)&&(g.align=I)}),c(G,g,z)),y.settings.table_row_class_list&&(h={name:"class",type:"listbox",label:"Class",values:r(y.settings.table_row_class_list,function(I){I.value&&(I.textStyle=function(){return y.formatter.getCssText({block:"tr",classes:[I.value]})})})}),H={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},h]},y.settings.table_row_advtab!==!1?y.windowManager.open({title:"Row properties",data:g,bodyType:"tabpanel",body:[{title:"General",type:"form",items:H},w(G)],onsubmit:C}):y.windowManager.open({title:"Row properties",data:g,body:H,onsubmit:C}))}}}),l("5",["6","d"],function(e,d){var f;return function(aG){function aF(h,g){return{index:h,y:aG.dom.getPos(g).y}}function aE(h,g){return{index:h,y:aG.dom.getPos(g).y+g.offsetHeight}}function aD(h,g){return{index:h,x:aG.dom.getPos(g).x}}function aC(h,g){return{index:h,x:aG.dom.getPos(g).x+g.offsetWidth}}function aA(){var g=aG.getBody().dir;return"rtl"===g}function az(){return aG.inline}function ay(){return az?aG.getBody().ownerDocument.body:aG.getBody()}function ax(h,g){return aA()?aC(h,g):aD(h,g)}function aw(h,g){return aA()?aD(h,g):aC(h,g)}function au(h,g){return at(h,"width")/at(g,"width")*100}function at(h,g){var r=aG.dom.getStyle(h,g,!0),q=parseInt(r,10);return q}function ar(h){var g=at(h,"width"),q=at(h.parentElement,"width");return g/q*100}function aq(h,g){var q=at(h,"width");return g/q*100}function ap(h,g){var q=at(h.parentElement,"width");return g/q*100}function ao(q,h,v){for(var u=[],t=1;t<v.length;t++){var s=v[t].element;u.push(q(t-1,s))}var r=v[v.length-1];return u.push(h(v.length-1,r.element)),u}function an(){var g=aG.dom.select("."+bn,ay());e.each(g,function(h){aG.dom.remove(h)})}function am(g){an(),a7(g)}function al(y,x,w,v,u,t,s,r){var q={"data-mce-bogus":"all","class":bn+" "+y,unselectable:"on","data-mce-resize":!1,style:"cursor: "+x+"; margin: 0; padding: 0; position: absolute; left: "+w+"px; top: "+v+"px; height: "+u+"px; width: "+t+"px; "};return q[s]=r,q}function ak(g,q,h){e.each(g,function(s){var r=h.x,v=s.y-aI/2,u=aI,t=q;aG.dom.add(ay(),"div",al(bi,a8,r,v,u,t,aH,s.index))})}function aj(g,q,h){e.each(g,function(s){var r=s.x-aI/2,v=h.y,u=q,t=aI;aG.dom.add(ay(),"div",al(ab,bo,r,v,u,t,bk,s.index))})}function ai(g){return e.map(g.rows,function(h){var q=e.map(h.cells,function(s){var r=s.hasAttribute("rowspan")?parseInt(s.getAttribute("rowspan"),10):1,t=s.hasAttribute("colspan")?parseInt(s.getAttribute("colspan"),10):1;return{element:s,rowspan:r,colspan:t}});return{element:h,cells:q}})}function ah(y){function x(h,g){return h+","+g}function w(h,g){return t[x(h,g)]}function v(){var g=[];return e.each(s,function(h){g=g.concat(h.cells)}),g}function u(){return s}var t={},s=[],r=0,q=0;return e.each(y,function(g,z){var h=[];e.each(g.cells,function(D){for(var B=0;void 0!==t[x(z,B)];){B++}for(var G={element:D.element,colspan:D.colspan,rowspan:D.rowspan,rowIndex:z,colIndex:B},F=0;F<D.colspan;F++){for(var E=0;E<D.rowspan;E++){var C=z+E,A=B+F;t[x(C,A)]=G,r=Math.max(r,C+1),q=Math.max(q,A+1)}}h.push(G)}),s.push({element:g.element,cells:h})}),{grid:{maxRows:r,maxCols:q},getAt:w,getAllCells:v,getAllRows:u}}function bd(h,g){for(var r=[],q=h;q<g;q++){r.push(q)}return r}function bc(h,g,t){for(var s,r=h(),q=0;q<r.length;q++){g(r[q])&&(s=r[q])}return s?s:t()}function bb(g){var q=bd(0,g.grid.maxCols),h=bd(0,g.grid.maxRows);return e.map(q,function(r){function u(){for(var x=[],w=0;w<h.length;w++){var v=g.getAt(w,r);v&&v.colIndex===r&&x.push(v)}return x}function t(v){return 1===v.colspan}function s(){for(var w,v=0;v<h.length;v++){if(w=g.getAt(v,r)){return w}}return null}return bc(u,t,s)})}function a9(g){var q=bd(0,g.grid.maxCols),h=bd(0,g.grid.maxRows);return e.map(h,function(r){function u(){for(var x=[],w=0;w<q.length;w++){var v=g.getAt(r,w);v&&v.rowIndex===r&&x.push(v)}return x}function t(v){return 1===v.rowspan}function s(){return g.getAt(r,0)}return bc(u,t,s)})}function a7(r){var q=ai(r),x=ah(q),w=a9(x),v=bb(x),u=aG.dom.getPos(r),t=w.length>0?ao(aF,aE,w):[],s=v.length>0?ao(ax,aw,v):[];ak(t,r.offsetWidth,u),aj(s,r.offsetHeight,u)}function a6(B,A,z,y){if(A<0||A>=B.length-1){return""}var x=B[A];if(x){x={value:x,delta:0}}else{for(var w=B.slice(0,A).reverse(),v=0;v<w.length;v++){w[v]&&(x={value:w[v],delta:v+1})}}var u=B[A+1];if(u){u={value:u,delta:1}}else{for(var t=B.slice(A+1),s=0;s<t.length;s++){t[s]&&(u={value:t[s],delta:s+1})}}var r=u.delta-x.delta,q=Math.abs(u.value-x.value)/r;return z?q/at(y,"width")*100:q}function a5(h,g){var q=aG.dom.getStyle(h,g);return q||(q=aG.dom.getAttrib(h,g)),q||(q=aG.dom.getStyle(h,g,!0)),q}function a4(h,g,t){var s=a5(h,"width"),r=parseInt(s,10),q=g?au(h,t):at(h,"width");return(g&&!aT(s)||!g&&!aS(s))&&(r=0),!isNaN(r)&&r>0?r:q}function a3(y,x,w){for(var v=bb(y),u=e.map(v,function(g){return ax(g.colIndex,g.element).x}),t=[],s=0;s<v.length;s++){var r=v[s].element.hasAttribute("colspan")?parseInt(v[s].element.getAttribute("colspan"),10):1,q=r>1?a6(u,s):a4(v[s].element,x,w);q=q?q:ag,t.push(q)}return t}function a1(h){var g=a5(h,"height"),q=parseInt(g,10);return aT(g)&&(q=0),!isNaN(q)&&q>0?q:at(h,"height")}function a0(q){for(var w=a9(q),v=e.map(w,function(g){return aF(g.rowIndex,g.element).y}),u=[],t=0;t<w.length;t++){var s=w[t].element.hasAttribute("rowspan")?parseInt(w[t].element.getAttribute("rowspan"),10):1,r=s>1?a6(v,t):a1(w[t].element);r=r?r:ac,u.push(r)}return u}function aZ(A,z,y,x,w){function v(g){return e.map(g,function(){return 0})}function u(){var h;if(w){h=[100-q[0]]}else{var g=Math.max(x,q[0]+y);h=[g-q[0]]}return h}function t(B,g){var H,G=v(q.slice(0,B)),F=v(q.slice(g+1));if(y>=0){var E=Math.max(x,q[g]-y);H=G.concat([y,E-q[g]]).concat(F)}else{var D=Math.max(x,q[B]+y),C=q[B]-D;H=G.concat([D-q[B],C]).concat(F)}return H}function s(B,g){var E,D=v(q.slice(0,g));if(y>=0){E=D.concat([y])}else{var C=Math.max(x,q[g]+y);E=D.concat([C-q[g]])}return E}var r,q=A.slice(0);return r=0===A.length?[]:1===A.length?u():0===z?t(0,1):z>0&&z<A.length-1?t(z,z+1):z===A.length-1?s(z-1,z):[]}function aY(h,g,s){for(var r=0,q=h;q<g;q++){r+=s[q]}return r}function aX(g,q){var h=g.getAllCells();return e.map(h,function(s){var r=aY(s.colIndex,s.colIndex+s.colspan,q);return{element:s.element,width:r,colspan:s.colspan}})}function aW(g,q){var h=g.getAllCells();return e.map(h,function(s){var r=aY(s.rowIndex,s.rowIndex+s.rowspan,q);return{element:s.element,height:r,rowspan:s.rowspan}})}function aU(g,q){var h=g.getAllRows();return e.map(h,function(s,r){return{element:s.element,height:q[r]}})}function aT(g){return bl.test(g)}function aS(g){return bf.test(g)}function aR(N,M,L){function K(g,h){e.each(g,function(s){aG.dom.setStyle(s.element,"width",s.width+h),aG.dom.setAttrib(s.element,"width",null)})}function J(){return L<F.grid.maxCols-1?ar(N):ar(N)+ap(N,M)}function I(){return L<F.grid.maxCols-1?at(N,"width"):at(N,"width")+M}function H(g,s,h){L!=F.grid.maxCols-1&&h||(aG.dom.setStyle(N,"width",g+s),aG.dom.setAttrib(N,"width",null))}for(var G=ai(N),F=ah(G),E=aT(N.width)||aT(N.style.width),D=a3(F,E,N),C=E?aq(N,M):M,B=aZ(D,L,C,ag,E,N),A=[],z=0;z<B.length;z++){A.push(B[z]+D[z])}var y=aX(F,A),r=E?"%":"px",q=E?J():I();aG.undoManager.transact(function(){K(y,r),H(q,r,E)})}function aQ(A,z,y){for(var x=ai(A),w=ah(x),v=a0(w),u=[],t=0,s=0;s<v.length;s++){u.push(s===y?z+v[s]:v[s]),t+=t[s]}var r=aW(w,u),q=aU(w,u);aG.undoManager.transact(function(){e.each(q,function(g){aG.dom.setStyle(g.element,"height",g.height+"px"),aG.dom.setAttrib(g.element,"height",null)}),e.each(r,function(g){aG.dom.setStyle(g.element,"height",g.height+"px"),aG.dom.setAttrib(g.element,"height",null)}),aG.dom.setStyle(A,"height",t+"px"),aG.dom.setAttrib(A,"height",null)})}function aP(){bm=setTimeout(function(){aL()},200)}function aO(){clearTimeout(bm)}function aN(){var g=document.createElement("div");return g.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),g.setAttribute("data-mce-bogus","all"),g}function aM(h,g){aG.dom.bind(h,"mouseup",function(){aL()}),aG.dom.bind(h,"mousemove",function(q){aO(),bh&&g(q)}),aG.dom.bind(h,"mouseout",function(){aP()})}function aL(){if(aG.dom.remove(a2),bh){aG.dom.removeClass(aB,a),bh=!1;var r,q;if(bj(aB)){var v=parseInt(aG.dom.getAttrib(aB,be),10),u=aG.dom.getPos(aB).x;r=parseInt(aG.dom.getAttrib(aB,bk),10),q=aA()?v-u:u-v,Math.abs(q)>=1&&aR(f,q,r)}else{if(aJ(aB)){var t=parseInt(aG.dom.getAttrib(aB,af),10),s=aG.dom.getPos(aB).y;r=parseInt(aG.dom.getAttrib(aB,aH),10),q=s-t,Math.abs(q)>=1&&aQ(f,q,r)}}am(f),aG.nodeChanged()}}function aK(h,g){a2=a2?a2:aN(),bh=!0,aG.dom.addClass(h,a),aB=h,aM(a2,g),aG.dom.add(ay(),a2)}function bj(g){return aG.dom.hasClass(g,ab)}function aJ(g){return aG.dom.hasClass(g,bi)}function bg(h){ae=void 0!==ae?ae:h.clientX;var g=h.clientX-ae;ae=h.clientX;var q=aG.dom.getPos(aB).x;aG.dom.setStyle(aB,"left",q+g+"px")}function aV(h){c=void 0!==c?c:h.clientY;var g=h.clientY-c;c=h.clientY;var q=aG.dom.getPos(aB).y;aG.dom.setStyle(aB,"top",q+g+"px")}function av(g){ae=void 0,aK(g,bg)}function ad(g){c=void 0,aK(g,aV)}function b(q){var h=q.target,t=aG.getBody();if(aG.$.contains(t,f)||f===t){if(bj(h)){q.preventDefault();var s=aG.dom.getPos(h).x;aG.dom.setAttrib(h,be,s),av(h)}else{if(aJ(h)){q.preventDefault();var r=aG.dom.getPos(h).y;aG.dom.setAttrib(h,af,r),ad(h)}else{an()}}}}var bm,bh,a2,aB,ae,c,bn="mce-resize-bar",bi="mce-resize-bar-row",a8="row-resize",aH="data-row",af="data-initial-top",ab="mce-resize-bar-col",bo="col-resize",bk="data-col",be="data-initial-left",aI=4,ag=10,ac=10,a="mce-resize-bar-dragging",bl=new RegExp(/(\d+(\.\d+)?%)/),bf=new RegExp(/px|em/);return aG.on("init",function(){aG.dom.bind(ay(),"mousedown",b)}),aG.on("ObjectResized",function(g){var q=g.target;if("TABLE"===q.nodeName){var h=[];e.each(q.rows,function(r){e.each(r.cells,function(t){var s=aG.dom.getStyle(t,"width",!0);h.push({cell:t,width:s})})}),e.each(h,function(r){aG.dom.setStyle(r.cell,"width",r.width),aG.dom.setAttrib(r.cell,"width",null)})}}),aG.on("mouseover",function(h){if(!bh){var g=aG.dom.getParent(h.target,"table");("TABLE"===h.target.nodeName||g)&&(f=g,am(g))}}),aG.on("keydown",function(g){switch(g.keyCode){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:an()}}),aG.on("remove",function(){an(),aG.dom.unbind(ay(),"mousedown",b)}),{adjustWidth:aR,adjustHeight:aQ,clearBars:an,drawBars:a7,determineDeltas:aZ,getTableGrid:ah,getTableDetails:ai,getWidths:a3,getPixelHeights:a0,isPercentageBasedSize:aT,isPixelBasedSize:aS,recalculateWidths:aX,recalculateCellHeights:aW,recalculateRowHeights:aU}}}),l("9",["a"],function(b){return b("tinymce.PluginManager")}),l("0",["1","2","3","4","5","6","7","8","9"],function(A,z,y,x,w,v,u,t,s){function r(N){function M(f){return function(){N.execCommand(f)}}function L(O,f){var S,R,Q,P;for(Q='<table id="__mce"><tbody>',S=0;S<f;S++){for(Q+="<tr>",R=0;R<O;R++){Q+="<td>"+(t.ie&&t.ie<10?"&nbsp;":"<br>")+"</td>"}Q+="</tr>"}return Q+="</tbody></table>",N.undoManager.transact(function(){N.insertContent(Q),P=N.dom.get("__mce"),N.dom.setAttrib(P,"id",null),N.$("tr",P).each(function(T,g){N.fire("newrow",{node:g}),N.$("th,td",g).each(function(V,U){N.fire("newcell",{node:U})})}),N.dom.setAttribs(P,N.settings.table_default_attributes||{}),N.dom.setStyles(P,N.settings.table_default_styles||{})}),P}function K(g,f,P){function O(){var U,T,S,R={},Q=0;T=N.dom.select("td[data-mce-selected],th[data-mce-selected]"),U=T[0],U||(U=N.selection.getStart()),P&&T.length>0?(q(T,function(V){return R[V.parentNode.parentNode.nodeName]=1}),q(R,function(V){Q+=V}),S=1!==Q):S=!N.dom.getParent(U,f),g.disabled(S),N.selection.selectorChanged(f,function(V){g.disabled(!V)})}N.initialized?O():N.on("init",O)}function J(){K(this,"table")}function I(){K(this,"td,th")}function H(){K(this,"td,th",!0)}function G(){var g="";g='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var f=0;f<10;f++){g+="<tr>";for(var O=0;O<10;O++){g+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*f+O)+'" href="#" data-mce-x="'+O+'" data-mce-y="'+f+'"></a></td>'}g+="</tr>"}return g+="</table>",g+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function F(W,V,U){var T,S,R,Q,P,O=U.getEl().getElementsByTagName("table")[0],f=U.isRtl()||"tl-tr"==U.parent().rel;for(O.nextSibling.innerHTML=W+1+" x "+(V+1),f&&(W=9-W),S=0;S<10;S++){for(T=0;T<10;T++){Q=O.rows[S].childNodes[T].firstChild,P=(f?T>=W:T<=W)&&S<=V,N.dom.toggleClass(Q,"mce-active",P),P&&(R=Q)}}return R.parentNode}function E(){N.addButton("tableprops",{title:"Table properties",onclick:b.tableProps,icon:"table"}),N.addButton("tabledelete",{title:"Delete table",onclick:M("mceTableDelete")}),N.addButton("tablecellprops",{title:"Cell properties",onclick:M("mceTableCellProps")}),N.addButton("tablemergecells",{title:"Merge cells",onclick:M("mceTableMergeCells")}),N.addButton("tablesplitcells",{title:"Split cell",onclick:M("mceTableSplitCells")}),N.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:M("mceTableInsertRowBefore")}),N.addButton("tableinsertrowafter",{title:"Insert row after",onclick:M("mceTableInsertRowAfter")}),N.addButton("tabledeleterow",{title:"Delete row",onclick:M("mceTableDeleteRow")}),N.addButton("tablerowprops",{title:"Row properties",onclick:M("mceTableRowProps")}),N.addButton("tablecutrow",{title:"Cut row",onclick:M("mceTableCutRow")}),N.addButton("tablecopyrow",{title:"Copy row",onclick:M("mceTableCopyRow")}),N.addButton("tablepasterowbefore",{title:"Paste row before",onclick:M("mceTablePasteRowBefore")}),N.addButton("tablepasterowafter",{title:"Paste row after",onclick:M("mceTablePasteRowAfter")}),N.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:M("mceTableInsertColBefore")}),N.addButton("tableinsertcolafter",{title:"Insert column after",onclick:M("mceTableInsertColAfter")}),N.addButton("tabledeletecol",{title:"Delete column",onclick:M("mceTableDeleteCol")})}function D(g){var f=N.dom.is(g,"table")&&N.getBody().contains(g);return f}function C(){var f=N.settings.table_toolbar;""!==f&&f!==!1&&(f||(f="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),N.addContextToolbar(D,f))}function B(){return e}function h(f){e=f}var e,d,c=this,b=new x(N);!N.settings.object_resizing||N.settings.table_resize_bars===!1||N.settings.object_resizing!==!0&&"table"!==N.settings.object_resizing||(d=w(N)),N.settings.table_grid===!1?N.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:b.table}):N.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(f){f.aria&&(this.parent().hideAll(),f.stopImmediatePropagation(),b.table())},onshow:function(){F(0,0,this.menu.items()[0])},onhide:function(){var f=this.menu.items()[0].getEl().getElementsByTagName("a");N.dom.removeClass(f,"mce-active"),N.dom.addClass(f[0],"mce-active")},menu:[{type:"container",html:G(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(g){var f,P,O=g.target;"A"==O.tagName.toUpperCase()&&(f=parseInt(O.getAttribute("data-mce-x"),10),P=parseInt(O.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(f=9-f),f===this.lastX&&P===this.lastY||(F(f,P,g.control),this.lastX=f,this.lastY=P))},onclick:function(g){var f=this;"A"==g.target.tagName.toUpperCase()&&(g.preventDefault(),g.stopPropagation(),f.parent().cancel(),N.undoManager.transact(function(){L(f.lastX+1,f.lastY+1)}),N.addVisual())}}]}),N.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:J,onclick:b.tableProps}),N.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:J,cmd:"mceTableDelete"}),N.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:M("mceTableCellProps"),onPostRender:I},{text:"Merge cells",onclick:M("mceTableMergeCells"),onPostRender:H},{text:"Split cell",onclick:M("mceTableSplitCells"),onPostRender:I}]}),N.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:M("mceTableInsertRowBefore"),onPostRender:I},{text:"Insert row after",onclick:M("mceTableInsertRowAfter"),onPostRender:I},{text:"Delete row",onclick:M("mceTableDeleteRow"),onPostRender:I},{text:"Row properties",onclick:M("mceTableRowProps"),onPostRender:I},{text:"-"},{text:"Cut row",onclick:M("mceTableCutRow"),onPostRender:I},{text:"Copy row",onclick:M("mceTableCopyRow"),onPostRender:I},{text:"Paste row before",onclick:M("mceTablePasteRowBefore"),onPostRender:I},{text:"Paste row after",onclick:M("mceTablePasteRowAfter"),onPostRender:I}]}),N.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:M("mceTableInsertColBefore"),onPostRender:I},{text:"Insert column after",onclick:M("mceTableInsertColAfter"),onPostRender:I},{text:"Delete column",onclick:M("mceTableDeleteCol"),onPostRender:I}]});var a=[];q("inserttable tableprops deletetable | cell row column".split(" "),function(f){"|"==f?a.push({text:"-"}):a.push(N.menuItems[f])}),N.addButton("table",{type:"menubutton",title:"Table",menu:a}),t.isIE||N.on("click",function(f){f=f.target,"TABLE"===f.nodeName&&(N.selection.select(f),N.nodeChanged())}),c.quirks=new z(N),N.on("Init",function(){c.cellSelection=new y(N,function(f){f&&d&&d.clearBars()}),c.resizeBars=d}),N.on("PreInit",function(){N.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(g,f){for(var O=g.length;O--;){g[O].attr(f,null)}})}),q({mceTableSplitCells:function(f){f.split()},mceTableMergeCells:function(g){var f;f=N.dom.getParent(N.selection.getStart(),"th,td"),N.dom.select("td[data-mce-selected],th[data-mce-selected]").length?g.merge():b.merge(g,f)},mceTableInsertRowBefore:function(f){f.insertRows(!0)},mceTableInsertRowAfter:function(f){f.insertRows()},mceTableInsertColBefore:function(f){f.insertCols(!0)},mceTableInsertColAfter:function(f){f.insertCols()},mceTableDeleteCol:function(f){f.deleteCols()},mceTableDeleteRow:function(f){f.deleteRows()},mceTableCutRow:function(f){e=f.cutRows()},mceTableCopyRow:function(f){e=f.copyRows()},mceTablePasteRowBefore:function(f){f.pasteRows(e,!0)},mceTablePasteRowAfter:function(f){f.pasteRows(e)},mceSplitColsBefore:function(f){f.splitCols(!0)},mceSplitColsAfter:function(f){f.splitCols(!1)},mceTableDelete:function(f){d&&d.clearBars(),f.deleteTable()}},function(f,g){N.addCommand(g,function(){var O=new A(N);O&&(f(O),N.execCommand("mceRepaint"),c.cellSelection.clear())})}),q({mceInsertTable:b.table,mceTableProps:function(){b.table(!0)},mceTableRowProps:b.row,mceTableCellProps:b.cell},function(g,f){N.addCommand(f,function(O,P){g(P)})}),E(),C(),N.settings.table_tab_navigation!==!1&&N.on("keydown",function(f){var P,O,g;9==f.keyCode&&(P=N.dom.getParent(N.selection.getStart(),"th,td"),P&&(f.preventDefault(),O=new A(N),g=f.shiftKey?-1:1,N.undoManager.transact(function(){!O.moveRelIdx(P,g)&&g>0&&(O.insertRow(),O.refresh(),O.moveRelIdx(P,g))})))}),c.insertTable=L,c.setClipboardRows=h,c.getClipboardRows=B}var q=v.each;return s.add("table",r),function(){}}),o("0")()}();