!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("5",tinymce.util.Tools.resolve),l("1",["5"],function(b){return b("tinymce.dom.DOMUtils")}),l("2",["5"],function(b){return b("tinymce.PluginManager")}),l("3",["5"],function(b){return b("tinymce.util.I18n")}),l("4",["5"],function(b){return b("tinymce.util.Tools")}),l("0",["1","2","3","4"],function(g,f,r,q){var h=r.translate;return f.add("textcolor",function(y){function x(b){var z;return y.dom.getParents(y.selection.getStart(),function(c){var A;(A=c.style["forecolor"==b?"color":"background-color"])&&(z=A)}),z}function w(b){var B,A,z=[];for(A=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],A=y.settings.textcolor_map||A,A=y.settings[b+"_map"]||A,B=0;B<A.length;B+=2){z.push({text:A[B+1],color:"#"+A[B]})}return z}function v(){function J(L,K){var M="transparent"==L;return'<td class="mce-grid-cell'+(M?" mce-colorbtn-trans":"")+'"><div id="'+z+"-"+b+++'" data-mce-color="'+(L?L:"")+'" role="option" tabIndex="-1" style="'+(L?"background-color: "+L:"")+'" title="'+h(K)+'">'+(M?"&#215;":"")+"</div></td>"}var I,H,G,F,E,D,C,B,A=this,z=A._id,b=0;for(B=A.settings.origin,I=w(B),I.push({text:h("No color"),color:"transparent"}),G='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',F=I.length-1,D=0;D<a[B];D++){for(G+="<tr>",E=0;E<d[B];E++){C=D*d[B]+E,C>F?G+="<td></td>":(H=I[C],G+=J(H.color,H.text))}G+="</tr>"}if(y.settings.color_picker_callback){for(G+='<tr><td colspan="'+d[B]+'" class="mce-custom-color-btn"><div id="'+z+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+z+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+h("Custom...")+"</button></div></td></tr>",G+="<tr>",E=0;E<d[B];E++){G+=J("","Custom color")}G+="</tr>"}return G+="</tbody></table>"}function u(b,z){y.undoManager.transact(function(){y.focus(),y.formatter.apply(b,{value:z}),y.nodeChanged()})}function t(b){y.undoManager.transact(function(){y.focus(),y.formatter.remove(b,{value:null},null,!0),y.nodeChanged()})}function s(C){function B(E){D.hidePanel(),D.color(E),u(D.settings.format,E)}function A(){D.hidePanel(),D.resetColor(),t(D.settings.format)}function z(F,E){F.style.background=E,F.setAttribute("data-mce-color",E)}var c,b,D=this.parent();b=D.settings.origin,g.DOM.getParent(C.target,".mce-custom-color-btn")&&(D.hidePanel(),y.settings.color_picker_callback.call(y,function(F){var E,I,H,G=D.panel.getEl().getElementsByTagName("table")[0];for(E=q.map(G.rows[G.rows.length-1].childNodes,function(J){return J.firstChild}),H=0;H<E.length&&(I=E[H],I.getAttribute("data-mce-color"));H++){}if(H==d[b]){for(H=0;H<d[b]-1;H++){z(E[H],E[H+1].getAttribute("data-mce-color"))}}z(I,F),B(F)},x(D.settings.format))),c=C.target.getAttribute("data-mce-color"),c?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),C.target.setAttribute("aria-selected",!0),this.lastId=C.target.id,"transparent"==c?A():B(c)):null!==c&&D.hidePanel()}function e(){var b=this;b._color?u(b.settings.format,b._color):t(b.settings.format)}var d,a;a={forecolor:y.settings.forecolor_rows||y.settings.textcolor_rows||5,backcolor:y.settings.backcolor_rows||y.settings.textcolor_rows||5},d={forecolor:y.settings.forecolor_cols||y.settings.textcolor_cols||8,backcolor:y.settings.backcolor_cols||y.settings.textcolor_cols||8},y.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:v,onclick:s},onclick:e}),y.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:v,onclick:s},onclick:e})}),function(){}}),o("0")()}();