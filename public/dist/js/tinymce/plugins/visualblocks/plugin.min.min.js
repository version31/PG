!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("2",tinymce.util.Tools.resolve),l("1",["2"],function(b){return b("tinymce.PluginManager")}),l("0",["1"],function(b){return b.add("visualblocks",function(h,g){function t(){var a=this;a.active(q),h.on("VisualBlocks",function(){a.active(h.dom.hasClass(h.getBody(),"mce-visualblocks"))})}var s,r,q;window.NodeList&&(h.addCommand("mceVisualBlocks",function(){var d,a=h.dom;s||(s=a.uniqueId(),d=a.create("link",{id:s,rel:"stylesheet",href:g+"/css/visualblocks.css"}),h.getDoc().getElementsByTagName("head")[0].appendChild(d)),h.on("PreviewFormats AfterPreviewFormats",function(c){q&&a.toggleClass(h.getBody(),"mce-visualblocks","afterpreviewformats"==c.type)}),a.toggleClass(h.getBody(),"mce-visualblocks"),q=h.dom.hasClass(h.getBody(),"mce-visualblocks"),r&&r.active(a.hasClass(h.getBody(),"mce-visualblocks")),h.fire("VisualBlocks")}),h.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:t}),h.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:t,selectable:!0,context:"view",prependToContext:!0}),h.on("init",function(){h.settings.visualblocks_default_state&&h.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})}),h.on("remove",function(){h.dom.removeClass(h.getBody(),"mce-visualblocks")}))}),function(){}}),o("0")()}();