!function(){var j={},i=function(a){for(var v=j[a],u=v.deps,t=v.defn,s=u.length,r=new Array(s),q=0;q<s;++q){r[q]=o(u[q])}var d=t.apply(null,r);if(void 0===d){throw"module ["+a+"] returned undefined"}v.instance=d},p=function(a,f,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===f){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}j[a]={deps:f,defn:e,instance:void 0}},o=function(b){var a=j[b];if(void 0===a){throw"module ["+b+"] was undefined"}return void 0===a.instance&&i(b),a.instance},n=function(g,d){for(var r=g.length,q=new Array(r),h=0;h<r;++h){q.push(o(g[h]))}d.apply(null,d)},m={};m.bolt={module:{api:{define:p,require:n,demand:o}}};var l=p,k=function(d,c){l(d,[],function(){return c})};k("d",tinymce.util.Tools.resolve),l("1",["d"],function(b){return b("tinymce.ThemeManager")}),l("2",["d"],function(b){return b("tinymce.ui.Api")}),l("3",["d"],function(b){return b("tinymce.util.Delay")}),l("4",[],function(){var b=function(a){return a.reduce(function(d,e){return Array.isArray(e)?d.concat(b(e)):d.concat(e)},[])};return{flatten:b}}),l("e",[],function(){var f=function(b){return function(a){return typeof a===b}},e=function(b){return Array.isArray(b)},h=function(b){return null===b},g=function(b){return function(a){return !h(a)&&!e(a)&&b(a)}};return{isString:f("string"),isNumber:f("number"),isBoolean:f("boolean"),isFunction:f("function"),isObject:g(f("object")),isNull:h,isArray:e}}),l("5",["e"],function(h){var g=function(d,c){if(c(d)){return !0}throw new Error("Default value doesn't match requested type.")},t=function(b){return function(w,v,u){var a=w.settings;return g(u,b),v in a&&b(a[v])?a[v]:u}},s=function(d,c){return d.split(c).filter(function(b){return b.length>0})},r=function(a,v){var u=function(b){return"string"==typeof b?s(b,/[ ,]/):b},d=function(e,c){return e===!1?[]:c};return h.isArray(a)?a:h.isString(a)?u(a):h.isBoolean(a)?d(a,v):v},q=function(b){return function(v,u,e){var a=u in v.settings?v.settings[u]:e;return g(e,b),r(a,e)}};return{getStringOr:t(h.isString),getBoolOr:t(h.isBoolean),getNumberOr:t(h.isNumber),getHandlerOr:t(h.isFunction),getToolbarItemsOr:q(h.isArray)}}),l("7",[],function(){var d=function(f,e){return{id:f,rect:e}},c=function(g,f){for(var r=0;r<f.length;r++){var q=f[r],h=q(g);if(h){return h}}return null};return{match:c,result:d}}),l("i",["d"],function(b){return b("tinymce.dom.DOMUtils")}),l("q",["d"],function(b){return b("tinymce.geom.Rect")}),l("r",[],function(){var d=function(b){return{x:b.left,y:b.top,w:b.width,h:b.height}},c=function(b){return{left:b.x,top:b.y,width:b.w,height:b.h,right:b.x+b.w,bottom:b.y+b.h}};return{fromClientRect:d,toClientRect:c}}),l("f",["i","q","r"],function(y,x,w){var v=function(a){var d=y.DOM.getViewPort();return{x:a.x+d.x,y:a.y+d.y,w:a.w,h:a.h}},u=function(d){var c=d.getBoundingClientRect();return v({x:c.left,y:c.top,w:Math.max(d.clientWidth,d.offsetWidth),h:Math.max(d.clientHeight,d.offsetHeight)})},t=function(d,c){return u(c)},s=function(b){return u(b.getElement().ownerDocument.body)},r=function(b){return u(b.getContentAreaContainer()||b.getBody())},q=function(d){var c=d.selection.getBoundingClientRect();return c?v(w.fromClientRect(c)):null};return{getElementRect:t,getPageAreaRect:s,getContentAreaRect:r,getSelectionRect:q}}),l("6",["7","f"],function(f,e){var h=function(b,a){return function(d){for(var c=0;c<a.length;c++){if(a[c].predicate(b)){return f.result(a[c].id,e.getElementRect(d,b))}}return null}},g=function(b,a){return function(q){for(var d=0;d<b.length;d++){for(var c=0;c<a.length;c++){if(a[c].predicate(b[d])){return f.result(a[c].id,e.getElementRect(q,b[d]))}}}return null}};return{element:h,parent:g}}),l("g",["d"],function(b){return b("tinymce.util.Tools")}),l("8",["g"],function(e){var d=function(g,c){return{id:g,predicate:c}},f=function(a){return e.map(a,function(b){return d(b.id,b.predicate)})};return{create:d,fromContextToolbars:f}}),l("9",["7","f"],function(f,e){var h=function(a){return function(b){return b.selection.isCollapsed()?null:f.result(a,e.getSelectionRect(b))}},g=function(b,a){return function(q){var d,c=q.schema.getTextBlockElements();for(d=0;d<b.length;d++){if("TABLE"===b[d].nodeName){return null}}for(d=0;d<b.length;d++){if(b[d].nodeName in c){return q.dom.isEmpty(b[d])?f.result(a,e.getSelectionRect(q)):null}}return null}};return{textSelection:h,emptyTextBlock:g}}),l("h",["d"],function(b){return b("tinymce.EditorManager")}),l("a",["h","i"],function(h,g){var t=function(e,d){var f=function(){e._skinLoaded=!0,e.fire("SkinLoaded"),d()};e.initialized?f():e.on("init",f)},s=function(a){var d=h.baseURL+"/skins/";return a?d+a:d+"lightgray"},r=function(d,c){return d.documentBaseURI.toAbsolute(c)},q=function(b,u){var e=b.settings,d=e.skin_url?r(b,e.skin_url):s(e.skin),c=function(){t(b,u)};g.DOM.styleSheetLoader.load(d+"/skin.min.css",c),b.contentCSS.push(d+"/content.inline.min.css")};return{load:q}}),l("j",["d"],function(b){return b("tinymce.ui.Factory")}),l("k",["g","j","e"],function(q,h,v){var u=function(g,f){var y=function(d,c){return{selector:d,handler:c}},x=function(b){f.active(b)},w=function(b){f.disabled(b)};return f.settings.stateSelector?y(f.settings.stateSelector,x):f.settings.disabledStateSelector?y(f.settings.disabledStateSelector,w):null},t=function(e,d,f){return function(){var a=u(d,f);null!==a&&e.selection.selectorChanged(a.selector,a.handler)}},s=function(b){return v.isArray(b)?b:v.isString(b)?b.split(/[ ,]/):[]},r=function(w,f,e){var b,a=[];if(e){return q.each(s(e),function(c){var g;"|"==c?b=null:w.buttons[c]&&(b||(b={type:"buttongroup",items:[]},a.push(b)),g=c,c=w.buttons[g],"function"==typeof c&&(c=c()),c.type=c.type||"button",c=h.create(c),c.on("postRender",t(w,g,c)),b.items.push(c))}),h.create({type:"toolbar",layout:"flow",name:f,items:a})}};return{create:r}}),l("s",["d"],function(b){return b("tinymce.util.Promise")}),l("t",[],function(){var e=0,d=function(){var b=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+Date.now().toString(36)+b()+b()+b()},f=function(a){return a+e+++d()};return{uuid:f}}),l("w",[],function(){var d=function(f,e){function h(r){var q,b,a;b=e[r?"startContainer":"endContainer"],a=e[r?"startOffset":"endOffset"],1==b.nodeType&&(q=f.create("span",{"data-mce-type":"bookmark"}),b.hasChildNodes()?(a=Math.min(a,b.childNodes.length-1),r?b.insertBefore(q,b.childNodes[a]):f.insertAfter(q,b.childNodes[a])):b.appendChild(q),b=q,a=0),g[r?"startContainer":"endContainer"]=b,g[r?"startOffset":"endOffset"]=a}var g={};return h(!0),e.collapsed||h(),g},c=function(f,e){function h(s){function r(u){for(var t=u.parentNode.firstChild,v=0;t;){if(t==u){return v}1==t.nodeType&&"bookmark"==t.getAttribute("data-mce-type")||v++,t=t.nextSibling}return -1}var q,b,a;q=a=e[s?"startContainer":"endContainer"],b=e[s?"startOffset":"endOffset"],q&&(1==q.nodeType&&(b=r(q),q=q.parentNode,f.remove(a)),e[s?"startContainer":"endContainer"]=q,e[s?"startOffset":"endOffset"]=b)}h(!0),h();var g=f.createRng();return g.setStart(e.startContainer,e.startOffset),e.endContainer&&g.setEnd(e.endContainer,e.endOffset),g};return{create:d,resolve:c}}),l("x",["d"],function(b){return b("tinymce.dom.TreeWalker")}),l("y",["d"],function(b){return b("tinymce.dom.RangeUtils")}),l("u",["w","g","x","y"],function(z,y,x,w){var v=function(h,c,D){var C,B,A=[];for(C=new x(c,h),B=c;B&&(1===B.nodeType&&A.push(B),B!==D);B=C.next()){}return A},u=function(B,A){var h,b,a;b=B.dom,a=B.selection,h=z.create(b,a.getRng()),y.each(A,function(c){B.dom.remove(c,!0)}),a.setRng(z.resolve(b,h))},t=function(b){return"A"===b.nodeName&&b.hasAttribute("href")},s=function(e,d){var f=e.getParent(d,t);return f?f:d},r=function(e){var C,B,A,h,g,d,b;return g=e.selection,d=e.dom,b=g.getRng(),C=s(d,w.getNode(b.startContainer,b.startOffset)),B=w.getNode(b.endContainer,b.endOffset),A=e.getBody(),h=y.grep(v(A,C,B),t)},q=function(b){u(b,r(b))};return{unlinkSelection:q}}),l("p",["t","u"],function(C,B){var A=function(g,f){var E,D,h;for(h='<table data-mce-id="mce" style="width: 100%">',h+="<tbody>",D=0;D<f;D++){for(h+="<tr>",E=0;E<g;E++){h+="<td><br></td>"}h+="</tr>"}return h+="</tbody>",h+="</table>"},z=function(d){var c=d.dom.select("*[data-mce-id]");return c[0]},y=function(d,c,f){d.undoManager.transact(function(){var b,a;d.insertContent(A(c,f)),b=z(d),b.removeAttribute("data-mce-id"),a=d.dom.select("td,th",b),d.selection.setCursorLocation(a[0],0)})},x=function(d,c){d.execCommand("FormatBlock",!1,c)},w=function(a,E,D){var h,g;h=a.editorUpload.blobCache,g=h.create(C.uuid("mceu"),D,E),h.add(g),a.insertContent(a.dom.createHTML("img",{src:g.blobUri()}))},v=function(b){b.selection.collapse(!1)},u=function(b){b.focus(),B.unlinkSelection(b),v(b)},t=function(e,d,f){e.focus(),e.dom.setAttrib(d,"href",f),v(e)},s=function(d,c){d.execCommand("mceInsertLink",!1,{href:c}),v(d)},r=function(e,d){var f=e.dom.getParent(e.selection.getStart(),"a[href]");f?t(e,f,d):s(e,d)},q=function(d,c){0===c.trim().length?u(d):r(d,c)};return{insertTable:y,formatBlock:x,insertBlob:w,createLink:q,unlink:u}}),l("v",[],function(){var d=function(b){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(b.trim())},c=function(b){return/^https?:\/\//.test(b.trim())};return{isDomainLike:d,isAbsolute:c}}),l("l",["g","j","s","p","v"],function(A,z,y,x,w){var v=function(b){b.find("textbox").eq(0).each(function(c){c.focus()})},u=function(f,b){var a=z.create(A.extend({type:"form",layout:"flex",direction:"row",padding:5,name:f,spacing:3},b));return a.on("show",function(){v(a)}),a},t=function(d,c){return c?d.show():d.hide()},s=function(d,c){return new y(function(a){d.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(b){var e=b===!0?"http://"+c:c;a(e)})})},r=function(d,c){return !w.isAbsolute(c)&&w.isDomainLike(c)?s(d,c):y.resolve(c)},q=function(g,d){var D={},C=function(){g.focus(),x.unlink(g),d()},B=function(e){var c=e.meta;c&&c.attach&&(D={href:this.value(),attach:c.attach})},h=function(a){if(a.control===this){var f,e="";f=g.dom.getParent(g.selection.getStart(),"a[href]"),f&&(e=g.dom.getAttrib(f,"href")),this.fromJSON({linkurl:e}),t(this.find("#unlink"),f),this.find("#linkurl")[0].focus()}};return u("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:C,tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",onchange:B},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:h,onsubmit:function(a){r(g,a.data.linkurl).then(function(b){g.undoManager.transact(function(){b===D.href&&(D.attach(),D={}),x.createLink(g,b)}),d()})}})};return{createQuickLinkForm:q}}),l("m",["q","r"],function(y,x){var w=function(d,c){return{rect:d,position:c}},v=function(d,c){return{x:c.x,y:c.y,w:d.w,h:d.h}},u=function(a,D,C,B,A){var z,d,c;return z=y.findBestRelativePosition(A,C,B,a),C=y.clamp(C,B),z?(d=y.relativePosition(A,C,z),c=v(A,d),w(c,z)):(C=y.intersect(B,C),C?(z=y.findBestRelativePosition(A,C,B,D))?(d=y.relativePosition(A,C,z),c=v(A,d),w(c,z)):(c=v(A,C),w(c,z)):null)},t=function(e,d,f){return u(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],e,d,f)},s=function(e,d,f){return u(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],e,d,f)},r=function(b,A,z,h){var g;return"function"==typeof b?(g=b({elementRect:x.toClientRect(A),contentAreaRect:x.toClientRect(z),panelRect:x.toClientRect(h)}),x.fromClientRect(g)):h},q=function(b){return b.panelRect};return{calcInsert:t,calc:s,userConstrain:r,defaultHandler:q}}),l("c",["g","j","i","k","l","f","m","5"],function(r,q,x,w,v,u,t,s){return function(){var T,S,R=["bold","italic","|","quicklink","h2","h3","blockquote"],Q=["quickimage","quicktable"],P=function(y,z){return r.map(z,function(A){return w.create(y,A.id,A.items)})},O=function(y){return s.getToolbarItemsOr(y,"selection_toolbar",R)},N=function(y){return s.getToolbarItemsOr(y,"insert_toolbar",Q)},M=function(y){return y.items().length>0},K=function(A,z){var y=P(A,z).concat([w.create(A,"text",O(A)),w.create(A,"insert",N(A)),v.createQuickLinkForm(A,J)]);return q.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:r.grep(y,M),oncancel:function(){A.focus()}})},I=function(y){y&&y.show()},G=function(z,y){z.moveTo(y.x,y.y)},h=function(y,z){z=z?z.substr(0,2):"",r.each({t:"down",b:"up",c:"center"},function(A,B){y.classes.toggle("arrow-"+A,B===z.substr(0,1))}),"cr"===z?(y.classes.toggle("arrow-left",!0),y.classes.toggle("arrow-right",!1)):"cl"===z?(y.classes.toggle("arrow-left",!0),y.classes.toggle("arrow-right",!0)):r.each({l:"left",r:"right"},function(A,B){y.classes.toggle("arrow-"+A,B===z.substr(1,1))})},f=function(z,y){var A=z.items().filter("#"+y);return A.length>0&&(A[0].show(),z.reflow(),!0)},e=function(B,z,U,E){var D,C,A,y;return y=s.getHandlerOr(U,"inline_toolbar_position_handler",t.defaultHandler),D=u.getContentAreaRect(U),C=x.DOM.getRect(B.getEl()),A="insert"===z?t.calcInsert(E,D,C):t.calc(E,D,C),!!A&&(C=A.rect,S=E,G(B,t.userConstrain(y,E,D,C)),h(B,A.position),!0)},d=function(z,y,B,A){return I(z),z.items().hide(),f(z,y)?void (e(z,y,B,A)===!1&&J(z)):void J(z)},c=function(){return T.items().filter("form:visible").length>0},b=function(A,y){if(T){if(T.items().hide(),!f(T,y)){return void J(T)}var D,C,B,z;I(T),T.items().hide(),f(T,y),z=s.getHandlerOr(A,"inline_toolbar_position_handler",t.defaultHandler),D=u.getContentAreaRect(A),C=x.DOM.getRect(T.getEl()),B=t.calc(S,D,C),B&&(C=B.rect,G(T,t.userConstrain(z,S,D,C)),h(T,B.position))}},a=function(z,y,B,A){T||(T=K(z,A),T.renderTo(document.body).reflow().moveTo(B.x,B.y),z.nodeChanged()),d(T,y,z,B)},L=function(z,y,A){T&&e(T,y,z,A)},J=function(){T&&T.hide()},H=function(){T&&T.find("toolbar:visible").eq(0).each(function(y){y.focus(!0)})},F=function(){T&&(T.remove(),T=null)},g=function(){return T&&T.visible()&&c()};return{show:a,showForm:b,reposition:L,inForm:g,hide:J,focus:H,remove:F}}}),l("n",["s"],function(d){var c=function(a){return new d(function(b){var e=new FileReader;e.onloadend=function(){b(e.result.split(",")[1])},e.readAsDataURL(a)})};return{blobToBase64:c}}),l("o",["s"],function(d){var c=function(){return new d(function(f){var e;e=document.createElement("input"),e.type="file",e.style.position="fixed",e.style.left=0,e.style.top=0,e.style.opacity=0.001,document.body.appendChild(e),e.onchange=function(a){f(Array.prototype.slice.call(a.target.files))},e.click(),e.parentNode.removeChild(e)})};return{pickFile:c}}),l("b",["c","n","o","p"],function(h,g,t,s){var r=function(f){for(var d=function(a){return function(){s.formatBlock(f,a)}},v=1;v<6;v++){var u="h"+v;f.addButton(u,{text:u.toUpperCase(),tooltip:"Heading "+v,stateSelector:u,onclick:d(u),onPostRender:function(){var b=this.getEl().firstChild.firstChild;b.style.fontWeight="bold"}})}},q=function(b,c){b.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){c.showForm(b,"quicklink")}}),b.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){t.pickFile().then(function(d){var a=d[0];g.blobToBase64(a).then(function(e){s.insertBlob(b,e,a)})})}}),b.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){c.hide(),s.insertTable(b,2,2)}}),r(b)};return{addToEditor:q}}),l("0",["1","2","3","4","5","6","7","8","9","a","b","c"],function(T,S,R,Q,P,O,N,M,L,K,J,I){var H=function(e){var d=e.selection.getNode(),f=e.dom.getParents(d);return f},G=function(g,f,r,q){var h=function(a){return g.dom.is(a,f)};return{predicate:h,id:r,items:q}},F=function(d){var c=d.contextToolbars;return Q.flatten([c?c:[],G(d,"img","image","alignleft aligncenter alignright")])},E=function(g,f){var r,q,h;return q=H(g),h=M.fromContextToolbars(f),r=N.match(g,[O.element(q[0],h),L.textSelection("text"),L.emptyTextBlock(q,"insert"),O.parent(q,h)]),r&&r.rect?r:null},D=function(e,d){var f=function(){var b=F(e),a=E(e,b);a?d.show(e,a.id,a.rect,b):d.hide()};return function(){e.removed||f()}},C=function(d,c){return function(){var b=F(d),a=E(d,b);a&&c.reposition(d,a.id,a.rect)}},B=function(e,d,f){return function(){e.removed||d.inForm()||f()}},A=function(f,c){var h=R.throttle(D(f,c),0),g=R.throttle(B(f,c,D(f,c)),0);f.on("blur hide ObjectResizeStart",c.hide),f.on("click",h),f.on("nodeChange mouseup",g),f.on("ResizeEditor keyup",h),f.on("ResizeWindow",C(f,c)),f.on("remove",c.remove),f.shortcuts.add("Alt+F10","",c.focus)},z=function(d,c){d.shortcuts.remove("meta+k"),d.shortcuts.add("meta+k","",function(){var b=F(d),a=a=N.match(d,[L.textSelection("quicklink")]);a&&c.show(d,a.id,a.rect,b)})},y=function(d,c){return K.load(d,function(){A(d,c),z(d,c)}),{}},x=function(b){throw new Error(b)};return T.add("inlite",function(e){var d=new I;J.addToEditor(e,d);var f=function(){return e.inline?y(e,d):x("inlite theme only supports inline mode.")};return{renderUI:f}}),S.appendTo(window.tinymce?window.tinymce:{}),function(){}}),o("0")()}();